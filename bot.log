2024-10-08 at 19:33:20 | INFO | Configuration loaded:
2024-10-08 at 19:33:20 | INFO | LOG_LEVEL: INFO
2024-10-08 at 19:33:20 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 19:33:20 | INFO | USERS_TABLE: users
2024-10-08 at 19:33:20 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 19:33:20 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 19:33:39 | INFO | Configuration loaded:
2024-10-08 at 19:33:39 | INFO | LOG_LEVEL: INFO
2024-10-08 at 19:33:39 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 19:33:39 | INFO | USERS_TABLE: users
2024-10-08 at 19:33:39 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 19:33:39 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 19:33:40 | INFO | Database connection verified successfully
2024-10-08 at 19:33:40 | INFO | Starting migration process...
2024-10-08 at 19:33:40 | INFO | Migrations table created or already exists.
2024-10-08 at 19:33:40 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:33:40 | INFO | Checking schema for migration 0001
2024-10-08 at 19:33:40 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:33:40 | INFO | Users table created or already exists.
2024-10-08 at 19:33:40 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:33:40 | INFO | Checking schema for migration 0002
2024-10-08 at 19:33:40 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:33:40 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:33:40 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:33:40 | INFO | Checking schema for migration 0003
2024-10-08 at 19:33:40 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:33:40 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:33:40 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:33:40 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:33:40 | INFO | Database setup completed successfully
2024-10-08 at 19:33:40 | INFO | Database connection verified successfully
2024-10-08 at 19:33:40 | INFO | Starting migration process...
2024-10-08 at 19:33:40 | INFO | Migrations table created or already exists.
2024-10-08 at 19:33:41 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:33:41 | INFO | Checking schema for migration 0001
2024-10-08 at 19:33:41 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:33:41 | INFO | Users table created or already exists.
2024-10-08 at 19:33:41 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:33:41 | INFO | Checking schema for migration 0002
2024-10-08 at 19:33:41 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:33:41 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:33:41 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:33:41 | INFO | Checking schema for migration 0003
2024-10-08 at 19:33:41 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:33:41 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:33:41 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:33:41 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:33:41 | INFO | Database setup completed successfully
2024-10-08 at 19:33:41 | INFO | Database setup completed successfully
2024-10-08 at 19:33:41 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 19:33:43 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 19:34:20 | ERROR | Error creating/updating user: {'code': '42501', 'details': None, 'hint': None, 'message': 'new row violates row-level security policy for table "users"'}
2024-10-08 at 19:35:19 | INFO | Stopping the bot...
2024-10-08 at 19:35:19 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 19:35:19 | INFO | Bot stopped successfully.
2024-10-08 at 19:35:19 | INFO | Bot stopped by user.
2024-10-08 at 19:36:01 | INFO | Configuration loaded:
2024-10-08 at 19:36:01 | INFO | LOG_LEVEL: INFO
2024-10-08 at 19:36:01 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 19:36:01 | INFO | USERS_TABLE: users
2024-10-08 at 19:36:01 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 19:36:01 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 19:36:02 | INFO | Database connection verified successfully
2024-10-08 at 19:36:02 | INFO | Starting migration process...
2024-10-08 at 19:36:02 | INFO | Migrations table created or already exists.
2024-10-08 at 19:36:02 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:36:02 | INFO | Checking schema for migration 0001
2024-10-08 at 19:36:02 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:36:02 | INFO | Users table created or already exists.
2024-10-08 at 19:36:02 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:36:02 | INFO | Checking schema for migration 0002
2024-10-08 at 19:36:02 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:36:02 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:36:02 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:36:02 | INFO | Checking schema for migration 0003
2024-10-08 at 19:36:02 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:36:02 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:36:02 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:36:02 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:36:02 | INFO | Database setup completed successfully
2024-10-08 at 19:36:02 | INFO | Database connection verified successfully
2024-10-08 at 19:36:02 | INFO | Starting migration process...
2024-10-08 at 19:36:02 | INFO | Migrations table created or already exists.
2024-10-08 at 19:36:02 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:36:02 | INFO | Checking schema for migration 0001
2024-10-08 at 19:36:02 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:36:02 | INFO | Users table created or already exists.
2024-10-08 at 19:36:02 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:36:02 | INFO | Checking schema for migration 0002
2024-10-08 at 19:36:03 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:36:03 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:36:03 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:36:03 | INFO | Checking schema for migration 0003
2024-10-08 at 19:36:03 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:36:03 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:36:03 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:36:03 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:36:03 | INFO | Database setup completed successfully
2024-10-08 at 19:36:03 | INFO | Database setup completed successfully
2024-10-08 at 19:36:03 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 19:36:06 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 19:36:17 | ERROR | Error creating/updating user: {'code': '23505', 'details': 'Key (username)=(theprofcrypto) already exists.', 'hint': None, 'message': 'duplicate key value violates unique constraint "users_username_key"'}
2024-10-08 at 19:36:17 | ERROR | Exception while handling an update:
2024-10-08 at 19:36:18 | ERROR | An exception was raised while handling an update
<pre>update = {
  &quot;message&quot;: {
    &quot;channel_chat_created&quot;: false,
    &quot;delete_chat_photo&quot;: false,
    &quot;group_chat_created&quot;: false,
    &quot;supergroup_chat_created&quot;: false,
    &quot;text&quot;: &quot;28&quot;,
    &quot;chat&quot;: {
      &quot;first_name&quot;: &quot;The Prof.&quot;,
      &quot;id&quot;: 1082762347,
      &quot;type&quot;: &quot;private&quot;,
      &quot;username&quot;: &quot;theprofcrypto&quot;
    },
    &quot;date&quot;: 1728390977,
    &quot;message_id&quot;: 233,
    &quot;from&quot;: {
      &quot;first_name&quot;: &quot;The Prof.&quot;,
      &quot;id&quot;: 1082762347,
      &quot;is_bot&quot;: false,
      &quot;language_code&quot;: &quot;en&quot;,
      &quot;username&quot;: &quot;theprofcrypto&quot;
    }
  },
  &quot;update_id&quot;: 420100543
}</pre>

<pre>context.chat_data = {}</pre>

<pre>context.user_data = {&#x27;profile_creation&#x27;: {&#x27;step&#x27;: &#x27;age&#x27;}}</pre>

<pre>Traceback (most recent call last):
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/ext/_application.py&quot;, line 1335, in process_update
    await coroutine
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/ext/_handlers/basehandler.py&quot;, line 158, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py&quot;, line 252, in handle_profile_creation
    await create_user(user)
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py&quot;, line 217, in create_user
    response = admin_supabase.table(&quot;users&quot;).insert(json.loads(json_data)).execute()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/postgrest/_sync/request_builder.py&quot;, line 78, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {&#x27;code&#x27;: &#x27;23505&#x27;, &#x27;details&#x27;: &#x27;Key (username)=(theprofcrypto) already exists.&#x27;, &#x27;hint&#x27;: None, &#x27;message&#x27;: &#x27;duplicate key value violates unique constraint &quot;users_username_key&quot;&#x27;}
</pre>
2024-10-08 at 19:36:37 | INFO | Stopping the bot...
2024-10-08 at 19:36:37 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 19:36:37 | INFO | Bot stopped successfully.
2024-10-08 at 19:36:37 | INFO | Bot stopped by user.
2024-10-08 at 19:37:20 | INFO | Configuration loaded:
2024-10-08 at 19:37:20 | INFO | LOG_LEVEL: INFO
2024-10-08 at 19:37:20 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 19:37:20 | INFO | USERS_TABLE: users
2024-10-08 at 19:37:20 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 19:37:20 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 19:37:20 | INFO | Database connection verified successfully
2024-10-08 at 19:37:20 | INFO | Starting migration process...
2024-10-08 at 19:37:20 | INFO | Migrations table created or already exists.
2024-10-08 at 19:37:20 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:37:20 | INFO | Checking schema for migration 0001
2024-10-08 at 19:37:20 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:37:20 | INFO | Users table created or already exists.
2024-10-08 at 19:37:20 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:37:20 | INFO | Checking schema for migration 0002
2024-10-08 at 19:37:20 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:37:20 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:37:20 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:37:20 | INFO | Checking schema for migration 0003
2024-10-08 at 19:37:20 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:37:20 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:37:20 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:37:20 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:37:20 | INFO | Database setup completed successfully
2024-10-08 at 19:37:21 | INFO | Database connection verified successfully
2024-10-08 at 19:37:21 | INFO | Starting migration process...
2024-10-08 at 19:37:21 | INFO | Migrations table created or already exists.
2024-10-08 at 19:37:21 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:37:21 | INFO | Checking schema for migration 0001
2024-10-08 at 19:37:21 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:37:21 | INFO | Users table created or already exists.
2024-10-08 at 19:37:21 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:37:21 | INFO | Checking schema for migration 0002
2024-10-08 at 19:37:21 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:37:21 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:37:21 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:37:21 | INFO | Checking schema for migration 0003
2024-10-08 at 19:37:21 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:37:21 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:37:21 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:37:21 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:37:21 | INFO | Database setup completed successfully
2024-10-08 at 19:37:21 | INFO | Database setup completed successfully
2024-10-08 at 19:37:21 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 19:37:23 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 19:37:31 | ERROR | Error in profile creation: name 'postgrest' is not defined
2024-10-08 at 19:38:53 | INFO | Stopping the bot...
2024-10-08 at 19:38:53 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 19:38:53 | INFO | Bot stopped successfully.
2024-10-08 at 19:38:53 | INFO | Bot stopped by user.
2024-10-08 at 19:40:01 | INFO | Configuration loaded:
2024-10-08 at 19:40:01 | INFO | LOG_LEVEL: INFO
2024-10-08 at 19:40:01 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 19:40:01 | INFO | USERS_TABLE: users
2024-10-08 at 19:40:01 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 19:40:01 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 19:40:02 | INFO | Database connection verified successfully
2024-10-08 at 19:40:02 | INFO | Starting migration process...
2024-10-08 at 19:40:02 | INFO | Migrations table created or already exists.
2024-10-08 at 19:40:02 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:40:02 | INFO | Checking schema for migration 0001
2024-10-08 at 19:40:02 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:40:02 | INFO | Users table created or already exists.
2024-10-08 at 19:40:02 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:40:02 | INFO | Checking schema for migration 0002
2024-10-08 at 19:40:02 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:40:03 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:40:03 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:40:03 | INFO | Checking schema for migration 0003
2024-10-08 at 19:40:03 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:40:03 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:40:03 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:40:03 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:40:03 | INFO | Database setup completed successfully
2024-10-08 at 19:40:03 | INFO | Database connection verified successfully
2024-10-08 at 19:40:03 | INFO | Starting migration process...
2024-10-08 at 19:40:03 | INFO | Migrations table created or already exists.
2024-10-08 at 19:40:03 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:40:03 | INFO | Checking schema for migration 0001
2024-10-08 at 19:40:04 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:40:04 | INFO | Users table created or already exists.
2024-10-08 at 19:40:04 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:40:04 | INFO | Checking schema for migration 0002
2024-10-08 at 19:40:04 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:40:04 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:40:04 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:40:04 | INFO | Checking schema for migration 0003
2024-10-08 at 19:40:04 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:40:04 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:40:04 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:40:04 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:40:04 | INFO | Database setup completed successfully
2024-10-08 at 19:40:04 | INFO | Database setup completed successfully
2024-10-08 at 19:40:04 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 19:40:06 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 19:40:15 | WARNING | User theprofcrypto already exists. Updating instead.
2024-10-08 at 19:40:18 | WARNING | User theprofcrypto already exists. Updating instead.
2024-10-08 at 19:40:24 | WARNING | User theprofcrypto already exists. Updating instead.
2024-10-08 at 19:40:38 | WARNING | User theprofcrypto already exists. Updating instead.
2024-10-08 at 19:42:03 | INFO | Stopping the bot...
2024-10-08 at 19:42:03 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 19:42:03 | INFO | Bot stopped successfully.
2024-10-08 at 19:42:03 | INFO | Bot stopped by user.
2024-10-08 at 19:42:06 | INFO | Configuration loaded:
2024-10-08 at 19:42:06 | INFO | LOG_LEVEL: INFO
2024-10-08 at 19:42:06 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 19:42:06 | INFO | USERS_TABLE: users
2024-10-08 at 19:42:06 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 19:42:06 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 19:42:07 | INFO | Database connection verified successfully
2024-10-08 at 19:42:07 | INFO | Starting migration process...
2024-10-08 at 19:42:07 | INFO | Migrations table created or already exists.
2024-10-08 at 19:42:07 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:42:07 | INFO | Checking schema for migration 0001
2024-10-08 at 19:42:07 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:42:07 | INFO | Users table created or already exists.
2024-10-08 at 19:42:07 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:42:07 | INFO | Checking schema for migration 0002
2024-10-08 at 19:42:07 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:42:07 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:42:07 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:42:07 | INFO | Checking schema for migration 0003
2024-10-08 at 19:42:07 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:42:07 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:42:07 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:42:07 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:42:07 | INFO | Database setup completed successfully
2024-10-08 at 19:42:07 | INFO | Database connection verified successfully
2024-10-08 at 19:42:07 | INFO | Starting migration process...
2024-10-08 at 19:42:07 | INFO | Migrations table created or already exists.
2024-10-08 at 19:42:08 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:42:08 | INFO | Checking schema for migration 0001
2024-10-08 at 19:42:08 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:42:08 | INFO | Users table created or already exists.
2024-10-08 at 19:42:08 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:42:08 | INFO | Checking schema for migration 0002
2024-10-08 at 19:42:08 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:42:08 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:42:08 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:42:08 | INFO | Checking schema for migration 0003
2024-10-08 at 19:42:08 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:42:08 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:42:08 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:42:08 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:42:08 | INFO | Database setup completed successfully
2024-10-08 at 19:42:08 | INFO | Database setup completed successfully
2024-10-08 at 19:42:08 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 19:42:10 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 19:42:19 | INFO | User updated successfully: theprofcrypto
2024-10-08 at 19:42:21 | INFO | User updated successfully: theprofcrypto
2024-10-08 at 19:43:54 | INFO | Stopping the bot...
2024-10-08 at 19:43:54 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 19:43:54 | INFO | Bot stopped successfully.
2024-10-08 at 19:43:54 | INFO | Bot stopped by user.
2024-10-08 at 19:43:59 | INFO | Configuration loaded:
2024-10-08 at 19:43:59 | INFO | LOG_LEVEL: INFO
2024-10-08 at 19:43:59 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 19:43:59 | INFO | USERS_TABLE: users
2024-10-08 at 19:43:59 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 19:43:59 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 19:44:00 | INFO | Database connection verified successfully
2024-10-08 at 19:44:00 | INFO | Starting migration process...
2024-10-08 at 19:44:00 | INFO | Migrations table created or already exists.
2024-10-08 at 19:44:00 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:44:00 | INFO | Checking schema for migration 0001
2024-10-08 at 19:44:00 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:44:00 | INFO | Users table created or already exists.
2024-10-08 at 19:44:00 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:44:00 | INFO | Checking schema for migration 0002
2024-10-08 at 19:44:00 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:44:00 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:44:00 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:44:00 | INFO | Checking schema for migration 0003
2024-10-08 at 19:44:00 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:44:00 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:44:00 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:44:00 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:44:00 | INFO | Database setup completed successfully
2024-10-08 at 19:44:01 | INFO | Database connection verified successfully
2024-10-08 at 19:44:01 | INFO | Starting migration process...
2024-10-08 at 19:44:01 | INFO | Migrations table created or already exists.
2024-10-08 at 19:44:01 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:44:01 | INFO | Checking schema for migration 0001
2024-10-08 at 19:44:01 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:44:01 | INFO | Users table created or already exists.
2024-10-08 at 19:44:01 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:44:01 | INFO | Checking schema for migration 0002
2024-10-08 at 19:44:01 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:44:01 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:44:01 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:44:01 | INFO | Checking schema for migration 0003
2024-10-08 at 19:44:01 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:44:01 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:44:01 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:44:01 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:44:01 | INFO | Database setup completed successfully
2024-10-08 at 19:44:01 | INFO | Database setup completed successfully
2024-10-08 at 19:44:01 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 19:44:04 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 19:45:19 | INFO | Stopping the bot...
2024-10-08 at 19:45:19 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 19:45:19 | INFO | Bot stopped successfully.
2024-10-08 at 19:45:19 | INFO | Bot stopped by user.
2024-10-08 at 19:45:21 | INFO | Configuration loaded:
2024-10-08 at 19:45:21 | INFO | LOG_LEVEL: INFO
2024-10-08 at 19:45:21 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 19:45:21 | INFO | USERS_TABLE: users
2024-10-08 at 19:45:21 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 19:45:21 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 19:45:21 | INFO | Database connection verified successfully
2024-10-08 at 19:45:21 | INFO | Starting migration process...
2024-10-08 at 19:45:21 | INFO | Migrations table created or already exists.
2024-10-08 at 19:45:22 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:45:22 | INFO | Checking schema for migration 0001
2024-10-08 at 19:45:22 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:45:22 | INFO | Users table created or already exists.
2024-10-08 at 19:45:22 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:45:22 | INFO | Checking schema for migration 0002
2024-10-08 at 19:45:22 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:45:22 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:45:22 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:45:22 | INFO | Checking schema for migration 0003
2024-10-08 at 19:45:22 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:45:22 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:45:22 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:45:22 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:45:22 | INFO | Database setup completed successfully
2024-10-08 at 19:45:22 | INFO | Database connection verified successfully
2024-10-08 at 19:45:22 | INFO | Starting migration process...
2024-10-08 at 19:45:22 | INFO | Migrations table created or already exists.
2024-10-08 at 19:45:22 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:45:22 | INFO | Checking schema for migration 0001
2024-10-08 at 19:45:22 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:45:22 | INFO | Users table created or already exists.
2024-10-08 at 19:45:22 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:45:22 | INFO | Checking schema for migration 0002
2024-10-08 at 19:45:22 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:45:22 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:45:22 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:45:22 | INFO | Checking schema for migration 0003
2024-10-08 at 19:45:23 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:45:23 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:45:23 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:45:23 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:45:23 | INFO | Database setup completed successfully
2024-10-08 at 19:45:23 | INFO | Database setup completed successfully
2024-10-08 at 19:45:23 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 19:45:25 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 19:45:31 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 19:45:31 | INFO | Attempting to retrieve user data for username: theprofcrypto
2024-10-08 at 19:45:31 | INFO | Database response: data=[] count=None
2024-10-08 at 19:45:31 | INFO | No user found for username: theprofcrypto
2024-10-08 at 19:45:31 | INFO | User data retrieved: None
2024-10-08 at 19:45:31 | INFO | New user, starting profile creation
2024-10-08 at 19:46:58 | INFO | Stopping the bot...
2024-10-08 at 19:46:58 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 19:46:58 | INFO | Bot stopped successfully.
2024-10-08 at 19:46:58 | INFO | Bot stopped by user.
2024-10-08 at 19:47:27 | INFO | Configuration loaded:
2024-10-08 at 19:47:27 | INFO | LOG_LEVEL: INFO
2024-10-08 at 19:47:27 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 19:47:27 | INFO | USERS_TABLE: users
2024-10-08 at 19:47:27 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 19:47:27 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 19:47:27 | INFO | Database connection verified successfully
2024-10-08 at 19:47:27 | INFO | Starting migration process...
2024-10-08 at 19:47:28 | INFO | Migrations table created or already exists.
2024-10-08 at 19:47:28 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:47:28 | INFO | Checking schema for migration 0001
2024-10-08 at 19:47:28 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:47:28 | INFO | Users table created or already exists.
2024-10-08 at 19:47:28 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:47:28 | INFO | Checking schema for migration 0002
2024-10-08 at 19:47:28 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:47:28 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:47:28 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:47:28 | INFO | Checking schema for migration 0003
2024-10-08 at 19:47:28 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:47:28 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:47:28 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:47:28 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:47:28 | INFO | Database setup completed successfully
2024-10-08 at 19:47:28 | INFO | Database connection verified successfully
2024-10-08 at 19:47:28 | INFO | Starting migration process...
2024-10-08 at 19:47:28 | INFO | Migrations table created or already exists.
2024-10-08 at 19:47:28 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:47:28 | INFO | Checking schema for migration 0001
2024-10-08 at 19:47:29 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:47:29 | INFO | Users table created or already exists.
2024-10-08 at 19:47:29 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:47:29 | INFO | Checking schema for migration 0002
2024-10-08 at 19:47:29 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:47:29 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:47:29 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:47:29 | INFO | Checking schema for migration 0003
2024-10-08 at 19:47:29 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:47:29 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:47:29 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:47:29 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:47:29 | INFO | Database setup completed successfully
2024-10-08 at 19:47:29 | INFO | Database setup completed successfully
2024-10-08 at 19:47:29 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 19:47:31 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 19:47:43 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 19:47:43 | INFO | Attempting to retrieve user data for username: theprofcrypto
2024-10-08 at 19:47:43 | INFO | Database response: data=[] count=None
2024-10-08 at 19:47:43 | INFO | No user found for username: theprofcrypto
2024-10-08 at 19:47:43 | INFO | User data retrieved: None
2024-10-08 at 19:47:43 | INFO | New user, starting profile creation
2024-10-08 at 19:47:43 | INFO | Attempting to retrieve user data for username: theprofcrypto
2024-10-08 at 19:47:43 | INFO | Database response: data=[] count=None
2024-10-08 at 19:47:43 | INFO | No user found for username: theprofcrypto
2024-10-08 at 19:47:43 | WARNING | User theprofcrypto already exists. Updating instead.
2024-10-08 at 19:49:11 | INFO | Stopping the bot...
2024-10-08 at 19:49:11 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 19:49:11 | INFO | Bot stopped successfully.
2024-10-08 at 19:49:11 | INFO | Bot stopped by user.
2024-10-08 at 19:50:38 | INFO | Configuration loaded:
2024-10-08 at 19:50:38 | INFO | LOG_LEVEL: INFO
2024-10-08 at 19:50:38 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 19:50:38 | INFO | USERS_TABLE: users
2024-10-08 at 19:50:38 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 19:50:38 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 19:50:38 | INFO | Database connection verified successfully
2024-10-08 at 19:50:38 | INFO | Starting migration process...
2024-10-08 at 19:50:38 | INFO | Migrations table created or already exists.
2024-10-08 at 19:50:39 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:50:39 | INFO | Checking schema for migration 0001
2024-10-08 at 19:50:39 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:50:39 | INFO | Users table created or already exists.
2024-10-08 at 19:50:39 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:50:39 | INFO | Checking schema for migration 0002
2024-10-08 at 19:50:39 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:50:39 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:50:39 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:50:39 | INFO | Checking schema for migration 0003
2024-10-08 at 19:50:39 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:50:39 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:50:39 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:50:39 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:50:39 | INFO | Database setup completed successfully
2024-10-08 at 19:50:39 | INFO | Database connection verified successfully
2024-10-08 at 19:50:39 | INFO | Starting migration process...
2024-10-08 at 19:50:40 | INFO | Migrations table created or already exists.
2024-10-08 at 19:50:40 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:50:40 | INFO | Checking schema for migration 0001
2024-10-08 at 19:50:40 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:50:40 | INFO | Users table created or already exists.
2024-10-08 at 19:50:40 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:50:40 | INFO | Checking schema for migration 0002
2024-10-08 at 19:50:40 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:50:40 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:50:40 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:50:40 | INFO | Checking schema for migration 0003
2024-10-08 at 19:50:40 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:50:40 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:50:40 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:50:40 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:50:40 | INFO | Database setup completed successfully
2024-10-08 at 19:50:40 | INFO | Database setup completed successfully
2024-10-08 at 19:50:40 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 19:50:42 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 19:50:48 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 19:50:48 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 19:50:48 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': [], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': False, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 19:50:48 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=[], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=False, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 19:50:48 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=[], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=False, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 19:50:48 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 19:50:48 | INFO | User profile is complete
2024-10-08 at 19:50:49 | INFO | User updated successfully: theprofcrypto
2024-10-08 at 19:52:10 | INFO | Stopping the bot...
2024-10-08 at 19:52:10 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 19:52:10 | INFO | Bot stopped successfully.
2024-10-08 at 19:52:10 | INFO | Bot stopped by user.
2024-10-08 at 19:53:28 | INFO | Configuration loaded:
2024-10-08 at 19:53:28 | INFO | LOG_LEVEL: INFO
2024-10-08 at 19:53:28 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 19:53:28 | INFO | USERS_TABLE: users
2024-10-08 at 19:53:28 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 19:53:28 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 19:53:29 | INFO | Database connection verified successfully
2024-10-08 at 19:53:29 | INFO | Starting migration process...
2024-10-08 at 19:53:29 | INFO | Migrations table created or already exists.
2024-10-08 at 19:53:29 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:53:29 | INFO | Checking schema for migration 0001
2024-10-08 at 19:53:29 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:53:29 | INFO | Users table created or already exists.
2024-10-08 at 19:53:29 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:53:29 | INFO | Checking schema for migration 0002
2024-10-08 at 19:53:29 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:53:29 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:53:29 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:53:29 | INFO | Checking schema for migration 0003
2024-10-08 at 19:53:29 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:53:29 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:53:29 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:53:29 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:53:29 | INFO | Database setup completed successfully
2024-10-08 at 19:53:29 | INFO | Database connection verified successfully
2024-10-08 at 19:53:29 | INFO | Starting migration process...
2024-10-08 at 19:53:29 | INFO | Migrations table created or already exists.
2024-10-08 at 19:53:29 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:53:29 | INFO | Checking schema for migration 0001
2024-10-08 at 19:53:30 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:53:30 | INFO | Users table created or already exists.
2024-10-08 at 19:53:30 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:53:30 | INFO | Checking schema for migration 0002
2024-10-08 at 19:53:30 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:53:30 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:53:30 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:53:30 | INFO | Checking schema for migration 0003
2024-10-08 at 19:53:30 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:53:30 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:53:30 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:53:30 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:53:30 | INFO | Database setup completed successfully
2024-10-08 at 19:53:30 | INFO | Database setup completed successfully
2024-10-08 at 19:53:30 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 19:53:32 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 19:53:41 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 19:53:41 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 19:53:42 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': [], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 19:53:42 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=[], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 19:53:42 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=[], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 19:53:42 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 19:53:42 | INFO | User profile is incomplete
2024-10-08 at 19:55:07 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 19:55:07 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': [], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 19:55:08 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=[], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 19:55:08 | INFO | User updated successfully: theprofcrypto
2024-10-08 at 19:55:09 | INFO | User updated successfully: theprofcrypto
2024-10-08 at 19:56:06 | INFO | Stopping the bot...
2024-10-08 at 19:56:06 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 19:56:06 | INFO | Bot stopped successfully.
2024-10-08 at 19:56:06 | INFO | Bot stopped by user.
2024-10-08 at 19:58:35 | INFO | Configuration loaded:
2024-10-08 at 19:58:35 | INFO | LOG_LEVEL: INFO
2024-10-08 at 19:58:35 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 19:58:35 | INFO | USERS_TABLE: users
2024-10-08 at 19:58:35 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 19:58:35 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 19:58:35 | INFO | Database connection verified successfully
2024-10-08 at 19:58:35 | INFO | Starting migration process...
2024-10-08 at 19:58:35 | INFO | Migrations table created or already exists.
2024-10-08 at 19:58:35 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:58:35 | INFO | Checking schema for migration 0001
2024-10-08 at 19:58:36 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:58:36 | INFO | Users table created or already exists.
2024-10-08 at 19:58:36 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:58:36 | INFO | Checking schema for migration 0002
2024-10-08 at 19:58:36 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:58:36 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:58:36 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:58:36 | INFO | Checking schema for migration 0003
2024-10-08 at 19:58:36 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:58:36 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:58:36 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:58:36 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:58:36 | INFO | Database setup completed successfully
2024-10-08 at 19:58:36 | INFO | Database connection verified successfully
2024-10-08 at 19:58:36 | INFO | Starting migration process...
2024-10-08 at 19:58:36 | INFO | Migrations table created or already exists.
2024-10-08 at 19:58:36 | INFO | Found 3 previously applied migrations.
2024-10-08 at 19:58:36 | INFO | Checking schema for migration 0001
2024-10-08 at 19:58:36 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 19:58:36 | INFO | Users table created or already exists.
2024-10-08 at 19:58:36 | INFO | Schema fixed for migration 0001
2024-10-08 at 19:58:36 | INFO | Checking schema for migration 0002
2024-10-08 at 19:58:36 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 19:58:36 | INFO | Interests column added to users table or already exists.
2024-10-08 at 19:58:36 | INFO | Schema fixed for migration 0002
2024-10-08 at 19:58:36 | INFO | Checking schema for migration 0003
2024-10-08 at 19:58:37 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 19:58:37 | INFO | Videos column added to users table or already exists.
2024-10-08 at 19:58:37 | INFO | Schema fixed for migration 0003
2024-10-08 at 19:58:37 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 19:58:37 | INFO | Database setup completed successfully
2024-10-08 at 19:58:37 | INFO | Database setup completed successfully
2024-10-08 at 19:58:37 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 19:58:39 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 19:58:56 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 19:58:56 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 19:58:56 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 19:58:56 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 19:58:56 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 19:58:56 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 19:58:56 | INFO | User profile is complete
2024-10-08 at 19:58:56 | INFO | User updated successfully: theprofcrypto
2024-10-08 at 20:00:04 | INFO | Stopping the bot...
2024-10-08 at 20:00:04 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:00:04 | INFO | Bot stopped successfully.
2024-10-08 at 20:00:04 | INFO | Bot stopped by user.
2024-10-08 at 20:04:03 | INFO | Configuration loaded:
2024-10-08 at 20:04:03 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:04:03 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:04:03 | INFO | USERS_TABLE: users
2024-10-08 at 20:04:03 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:04:03 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:04:05 | INFO | Database connection verified successfully
2024-10-08 at 20:04:05 | INFO | Starting migration process...
2024-10-08 at 20:04:06 | INFO | Migrations table created or already exists.
2024-10-08 at 20:04:06 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:04:06 | INFO | Checking schema for migration 0001
2024-10-08 at 20:04:06 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:04:06 | INFO | Users table created or already exists.
2024-10-08 at 20:04:06 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:04:06 | INFO | Checking schema for migration 0002
2024-10-08 at 20:04:06 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:04:06 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:04:06 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:04:06 | INFO | Checking schema for migration 0003
2024-10-08 at 20:04:06 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 20:04:06 | INFO | Videos column added to users table or already exists.
2024-10-08 at 20:04:06 | INFO | Schema fixed for migration 0003
2024-10-08 at 20:04:06 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:04:06 | INFO | Database setup completed successfully
2024-10-08 at 20:04:06 | INFO | Database connection verified successfully
2024-10-08 at 20:04:06 | INFO | Starting migration process...
2024-10-08 at 20:04:06 | INFO | Migrations table created or already exists.
2024-10-08 at 20:04:06 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:04:06 | INFO | Checking schema for migration 0001
2024-10-08 at 20:04:06 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:04:07 | INFO | Users table created or already exists.
2024-10-08 at 20:04:07 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:04:07 | INFO | Checking schema for migration 0002
2024-10-08 at 20:04:07 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:04:07 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:04:07 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:04:07 | INFO | Checking schema for migration 0003
2024-10-08 at 20:04:07 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 20:04:07 | INFO | Videos column added to users table or already exists.
2024-10-08 at 20:04:07 | INFO | Schema fixed for migration 0003
2024-10-08 at 20:04:07 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:04:07 | INFO | Database setup completed successfully
2024-10-08 at 20:04:07 | INFO | Database setup completed successfully
2024-10-08 at 20:04:07 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:04:09 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:04:19 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:04:19 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:04:20 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:04:20 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:04:20 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:04:20 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 20:04:20 | INFO | User profile is complete
2024-10-08 at 20:04:20 | INFO | User updated successfully: theprofcrypto
2024-10-08 at 20:05:49 | INFO | Stopping the bot...
2024-10-08 at 20:05:49 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:05:49 | INFO | Bot stopped successfully.
2024-10-08 at 20:05:49 | INFO | Bot stopped by user.
2024-10-08 at 20:05:52 | INFO | Configuration loaded:
2024-10-08 at 20:05:52 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:05:52 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:05:52 | INFO | USERS_TABLE: users
2024-10-08 at 20:05:52 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:05:52 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:05:53 | INFO | Database connection verified successfully
2024-10-08 at 20:05:53 | INFO | Starting migration process...
2024-10-08 at 20:05:53 | INFO | Migrations table created or already exists.
2024-10-08 at 20:05:53 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:05:53 | INFO | Checking schema for migration 0001
2024-10-08 at 20:05:53 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:05:53 | INFO | Users table created or already exists.
2024-10-08 at 20:05:53 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:05:53 | INFO | Checking schema for migration 0002
2024-10-08 at 20:05:53 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:05:53 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:05:53 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:05:53 | INFO | Checking schema for migration 0003
2024-10-08 at 20:05:53 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 20:05:53 | INFO | Videos column added to users table or already exists.
2024-10-08 at 20:05:53 | INFO | Schema fixed for migration 0003
2024-10-08 at 20:05:53 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:05:53 | INFO | Database setup completed successfully
2024-10-08 at 20:05:53 | INFO | Database connection verified successfully
2024-10-08 at 20:05:53 | INFO | Starting migration process...
2024-10-08 at 20:05:53 | INFO | Migrations table created or already exists.
2024-10-08 at 20:05:53 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:05:53 | INFO | Checking schema for migration 0001
2024-10-08 at 20:05:54 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:05:54 | INFO | Users table created or already exists.
2024-10-08 at 20:05:54 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:05:54 | INFO | Checking schema for migration 0002
2024-10-08 at 20:05:54 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:05:54 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:05:54 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:05:54 | INFO | Checking schema for migration 0003
2024-10-08 at 20:05:54 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 20:05:54 | INFO | Videos column added to users table or already exists.
2024-10-08 at 20:05:54 | INFO | Schema fixed for migration 0003
2024-10-08 at 20:05:54 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:05:54 | INFO | Database setup completed successfully
2024-10-08 at 20:05:54 | INFO | Database setup completed successfully
2024-10-08 at 20:05:54 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:05:56 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:06:02 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:06:02 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:06:02 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:06:02 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:06:02 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:06:02 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 20:06:02 | INFO | User profile is complete
2024-10-08 at 20:06:02 | INFO | User updated successfully: theprofcrypto
2024-10-08 at 20:06:09 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:06:09 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:06:09 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:06:14 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:06:15 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:06:15 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:06:15 | ERROR | Exception while handling an update:
2024-10-08 at 20:06:15 | ERROR | An exception was raised while handling an update
<pre>update = {
  &quot;callback_query&quot;: {
    &quot;chat_instance&quot;: &quot;-7390949062690548471&quot;,
    &quot;data&quot;: &quot;back_to_menu&quot;,
    &quot;id&quot;: &quot;4650428873848587906&quot;,
    &quot;message&quot;: {
      &quot;channel_chat_created&quot;: false,
      &quot;delete_chat_photo&quot;: false,
      &quot;group_chat_created&quot;: false,
      &quot;reply_markup&quot;: {
        &quot;inline_keyboard&quot;: [
          [
            {
              &quot;callback_data&quot;: &quot;edit_profile&quot;,
              &quot;text&quot;: &quot;Edit Profile&quot;
            }
          ],
          [
            {
              &quot;callback_data&quot;: &quot;back_to_menu&quot;,
              &quot;text&quot;: &quot;Back to Menu&quot;
            }
          ]
        ]
      },
      &quot;supergroup_chat_created&quot;: false,
      &quot;text&quot;: &quot;What would you like to do?&quot;,
      &quot;chat&quot;: {
        &quot;first_name&quot;: &quot;The Prof.&quot;,
        &quot;id&quot;: 1082762347,
        &quot;type&quot;: &quot;private&quot;,
        &quot;username&quot;: &quot;theprofcrypto&quot;
      },
      &quot;date&quot;: 1728392771,
      &quot;message_id&quot;: 283,
      &quot;from&quot;: {
        &quot;first_name&quot;: &quot;Nova Match&quot;,
        &quot;id&quot;: 7534529322,
        &quot;is_bot&quot;: true,
        &quot;username&quot;: &quot;NovaMatch_Bot&quot;
      }
    },
    &quot;from&quot;: {
      &quot;first_name&quot;: &quot;The Prof.&quot;,
      &quot;id&quot;: 1082762347,
      &quot;is_bot&quot;: false,
      &quot;language_code&quot;: &quot;en&quot;,
      &quot;username&quot;: &quot;theprofcrypto&quot;
    }
  },
  &quot;update_id&quot;: 420100564
}</pre>

<pre>context.chat_data = {}</pre>

<pre>context.user_data = {}</pre>

<pre>Traceback (most recent call last):
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/ext/_application.py&quot;, line 1335, in process_update
    await coroutine
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/ext/_handlers/basehandler.py&quot;, line 158, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py&quot;, line 157, in handle_button
    await menu(update, context)
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py&quot;, line 97, in menu
    await update.message.reply_text(&quot;What would you like to do?&quot;, reply_markup=reply_markup)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: &#x27;NoneType&#x27; object has no attribute &#x27;reply_text&#x27;
</pre>
2024-10-08 at 20:07:16 | INFO | Stopping the bot...
2024-10-08 at 20:07:16 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:07:16 | INFO | Bot stopped successfully.
2024-10-08 at 20:07:16 | INFO | Bot stopped by user.
2024-10-08 at 20:08:36 | INFO | Configuration loaded:
2024-10-08 at 20:08:36 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:08:36 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:08:36 | INFO | USERS_TABLE: users
2024-10-08 at 20:08:36 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:08:36 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:08:37 | INFO | Database connection verified successfully
2024-10-08 at 20:08:37 | INFO | Starting migration process...
2024-10-08 at 20:08:37 | INFO | Migrations table created or already exists.
2024-10-08 at 20:08:37 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:08:37 | INFO | Checking schema for migration 0001
2024-10-08 at 20:08:37 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:08:37 | INFO | Users table created or already exists.
2024-10-08 at 20:08:37 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:08:37 | INFO | Checking schema for migration 0002
2024-10-08 at 20:08:37 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:08:37 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:08:37 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:08:37 | INFO | Checking schema for migration 0003
2024-10-08 at 20:08:37 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 20:08:37 | INFO | Videos column added to users table or already exists.
2024-10-08 at 20:08:37 | INFO | Schema fixed for migration 0003
2024-10-08 at 20:08:37 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:08:37 | INFO | Database setup completed successfully
2024-10-08 at 20:08:37 | INFO | Database connection verified successfully
2024-10-08 at 20:08:37 | INFO | Starting migration process...
2024-10-08 at 20:08:37 | INFO | Migrations table created or already exists.
2024-10-08 at 20:08:38 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:08:38 | INFO | Checking schema for migration 0001
2024-10-08 at 20:08:38 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:08:38 | INFO | Users table created or already exists.
2024-10-08 at 20:08:38 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:08:38 | INFO | Checking schema for migration 0002
2024-10-08 at 20:08:38 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:08:38 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:08:38 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:08:38 | INFO | Checking schema for migration 0003
2024-10-08 at 20:08:38 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 20:08:38 | INFO | Videos column added to users table or already exists.
2024-10-08 at 20:08:38 | INFO | Schema fixed for migration 0003
2024-10-08 at 20:08:38 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:08:38 | INFO | Database setup completed successfully
2024-10-08 at 20:08:38 | INFO | Database setup completed successfully
2024-10-08 at 20:08:38 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:08:40 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:08:48 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:08:48 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:08:48 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:08:48 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:08:48 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:08:48 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 20:08:48 | INFO | User profile is complete
2024-10-08 at 20:08:48 | INFO | User updated successfully: theprofcrypto
2024-10-08 at 20:08:57 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:08:57 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:08:57 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:12:13 | INFO | Stopping the bot...
2024-10-08 at 20:12:13 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:12:13 | INFO | Bot stopped successfully.
2024-10-08 at 20:12:13 | INFO | Bot stopped by user.
2024-10-08 at 20:13:25 | INFO | Configuration loaded:
2024-10-08 at 20:13:25 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:13:25 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:13:25 | INFO | USERS_TABLE: users
2024-10-08 at 20:13:25 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:13:25 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:14:57 | INFO | Configuration loaded:
2024-10-08 at 20:14:57 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:14:57 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:14:57 | INFO | USERS_TABLE: users
2024-10-08 at 20:14:57 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:14:57 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:14:59 | INFO | Database connection verified successfully
2024-10-08 at 20:14:59 | INFO | Starting migration process...
2024-10-08 at 20:14:59 | INFO | Migrations table created or already exists.
2024-10-08 at 20:14:59 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:14:59 | INFO | Checking schema for migration 0001
2024-10-08 at 20:14:59 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:14:59 | INFO | Users table created or already exists.
2024-10-08 at 20:14:59 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:14:59 | INFO | Checking schema for migration 0002
2024-10-08 at 20:15:00 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:15:00 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:15:00 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:15:00 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:15:00 | INFO | Database setup completed successfully
2024-10-08 at 20:15:00 | INFO | Database connection verified successfully
2024-10-08 at 20:15:00 | INFO | Starting migration process...
2024-10-08 at 20:15:00 | INFO | Migrations table created or already exists.
2024-10-08 at 20:15:00 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:15:00 | INFO | Checking schema for migration 0001
2024-10-08 at 20:15:00 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:15:01 | INFO | Users table created or already exists.
2024-10-08 at 20:15:01 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:15:01 | INFO | Checking schema for migration 0002
2024-10-08 at 20:15:01 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:15:02 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:15:02 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:15:02 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:15:02 | INFO | Database setup completed successfully
2024-10-08 at 20:15:02 | INFO | Database setup completed successfully
2024-10-08 at 20:15:02 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:15:04 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:15:13 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:15:13 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:15:14 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:15:14 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:15:14 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:15:14 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 20:15:14 | INFO | User profile is incomplete
2024-10-08 at 20:15:25 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:15:25 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:15:25 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:15:27 | ERROR | Error uploading file to bucket: {'statusCode': 400, 'error': 'Bucket not found', 'message': 'Bucket not found'}
2024-10-08 at 20:15:27 | ERROR | Error updating user: {'statusCode': 400, 'error': 'Bucket not found', 'message': 'Bucket not found'}
2024-10-08 at 20:15:27 | ERROR | Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/storage3/_sync/file_api.py", line 47, in _request
    response.raise_for_status()
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/httpx/_models.py", line 763, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 Bad Request' for url 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/user-media/user_theprofcrypto_media_0_1728393327.552177.mp4'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 278, in update_user
    public_url = await upload_file_to_bucket(file_path, file_name)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 245, in upload_file_to_bucket
    response = admin_supabase.storage.from_(bucket_name).upload(file_name, file_contents)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/storage3/_sync/file_api.py", line 434, in upload
    return self._upload_or_update("POST", path, file, file_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/storage3/_sync/file_api.py", line 411, in _upload_or_update
    return self._request(
           ^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/storage3/_sync/file_api.py", line 51, in _request
    raise StorageException({**resp, "statusCode": response.status_code})
storage3.utils.StorageException: {'statusCode': 400, 'error': 'Bucket not found', 'message': 'Bucket not found'}

2024-10-08 at 20:15:27 | ERROR | Error in profile creation: {'statusCode': 400, 'error': 'Bucket not found', 'message': 'Bucket not found'}
2024-10-08 at 20:15:27 | ERROR | Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/storage3/_sync/file_api.py", line 47, in _request
    response.raise_for_status()
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/httpx/_models.py", line 763, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 Bad Request' for url 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/user-media/user_theprofcrypto_media_0_1728393327.552177.mp4'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py", line 326, in handle_profile_creation
    await update_user(user, context.bot)
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 278, in update_user
    public_url = await upload_file_to_bucket(file_path, file_name)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 245, in upload_file_to_bucket
    response = admin_supabase.storage.from_(bucket_name).upload(file_name, file_contents)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/storage3/_sync/file_api.py", line 434, in upload
    return self._upload_or_update("POST", path, file, file_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/storage3/_sync/file_api.py", line 411, in _upload_or_update
    return self._request(
           ^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/storage3/_sync/file_api.py", line 51, in _request
    raise StorageException({**resp, "statusCode": response.status_code})
storage3.utils.StorageException: {'statusCode': 400, 'error': 'Bucket not found', 'message': 'Bucket not found'}

2024-10-08 at 20:15:39 | INFO | Stopping the bot...
2024-10-08 at 20:15:39 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:15:39 | INFO | Bot stopped successfully.
2024-10-08 at 20:15:39 | INFO | Bot stopped by user.
2024-10-08 at 20:17:50 | INFO | Configuration loaded:
2024-10-08 at 20:17:50 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:17:50 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:17:50 | INFO | USERS_TABLE: users
2024-10-08 at 20:17:50 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:17:50 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:17:50 | INFO | Database connection verified successfully
2024-10-08 at 20:17:50 | INFO | Starting migration process...
2024-10-08 at 20:17:50 | INFO | Migrations table created or already exists.
2024-10-08 at 20:17:50 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:17:50 | INFO | Checking schema for migration 0001
2024-10-08 at 20:17:50 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:17:50 | INFO | Users table created or already exists.
2024-10-08 at 20:17:50 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:17:50 | INFO | Checking schema for migration 0002
2024-10-08 at 20:17:51 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:17:51 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:17:51 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:17:51 | INFO | Checking schema for migration 0003
2024-10-08 at 20:17:51 | ERROR | Error checking for user-media bucket: name 'create_client' is not defined
2024-10-08 at 20:17:51 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 20:17:51 | ERROR | Error creating user-media bucket: name 'create_client' is not defined
2024-10-08 at 20:17:51 | ERROR | Error applying migrations: name 'create_client' is not defined
2024-10-08 at 20:17:51 | ERROR | Migration process failed. Manual intervention may be required.
2024-10-08 at 20:17:51 | ERROR | Database setup failed. Exiting the application.
2024-10-08 at 20:19:27 | INFO | Configuration loaded:
2024-10-08 at 20:19:27 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:19:27 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:19:27 | INFO | USERS_TABLE: users
2024-10-08 at 20:19:27 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:19:27 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:19:27 | INFO | Database connection verified successfully
2024-10-08 at 20:19:27 | INFO | Starting migration process...
2024-10-08 at 20:19:27 | INFO | Migrations table created or already exists.
2024-10-08 at 20:19:28 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:19:28 | INFO | Checking schema for migration 0001
2024-10-08 at 20:19:28 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:19:28 | INFO | Users table created or already exists.
2024-10-08 at 20:19:28 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:19:28 | INFO | Checking schema for migration 0002
2024-10-08 at 20:19:28 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:19:28 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:19:28 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:19:28 | INFO | Checking schema for migration 0003
2024-10-08 at 20:19:28 | WARNING | Schema mismatch detected for migration 0003. Attempting to fix...
2024-10-08 at 20:19:29 | INFO | Created user-media bucket
2024-10-08 at 20:19:29 | INFO | Schema fixed for migration 0003
2024-10-08 at 20:19:29 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:19:29 | INFO | Database setup completed successfully
2024-10-08 at 20:19:29 | INFO | Database connection verified successfully
2024-10-08 at 20:19:29 | INFO | Starting migration process...
2024-10-08 at 20:19:29 | INFO | Migrations table created or already exists.
2024-10-08 at 20:19:29 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:19:29 | INFO | Checking schema for migration 0001
2024-10-08 at 20:19:29 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:19:29 | INFO | Users table created or already exists.
2024-10-08 at 20:19:29 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:19:29 | INFO | Checking schema for migration 0002
2024-10-08 at 20:19:30 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:19:30 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:19:30 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:19:30 | INFO | Checking schema for migration 0003
2024-10-08 at 20:19:30 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:19:30 | INFO | Database setup completed successfully
2024-10-08 at 20:19:30 | INFO | Database setup completed successfully
2024-10-08 at 20:19:30 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:19:32 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:19:39 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:19:39 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:19:39 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:19:39 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:19:39 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:19:39 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 20:19:39 | INFO | User profile is incomplete
2024-10-08 at 20:20:44 | INFO | Stopping the bot...
2024-10-08 at 20:20:44 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:20:44 | INFO | Bot stopped successfully.
2024-10-08 at 20:20:44 | INFO | Bot stopped by user.
2024-10-08 at 20:34:57 | INFO | Configuration loaded:
2024-10-08 at 20:34:57 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:34:57 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:34:57 | INFO | USERS_TABLE: users
2024-10-08 at 20:34:57 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:34:57 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:34:57 | INFO | Database connection verified successfully
2024-10-08 at 20:34:57 | INFO | Starting migration process...
2024-10-08 at 20:34:57 | INFO | Migrations table created or already exists.
2024-10-08 at 20:34:57 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:34:57 | INFO | Checking schema for migration 0001
2024-10-08 at 20:34:57 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:34:57 | INFO | Users table created or already exists.
2024-10-08 at 20:34:57 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:34:57 | INFO | Checking schema for migration 0002
2024-10-08 at 20:34:58 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:34:58 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:34:58 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:34:58 | INFO | Checking schema for migration 0003
2024-10-08 at 20:34:58 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:34:58 | INFO | Database setup completed successfully
2024-10-08 at 20:34:58 | INFO | Database connection verified successfully
2024-10-08 at 20:34:58 | INFO | Starting migration process...
2024-10-08 at 20:34:58 | INFO | Migrations table created or already exists.
2024-10-08 at 20:34:58 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:34:58 | INFO | Checking schema for migration 0001
2024-10-08 at 20:34:58 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:34:58 | INFO | Users table created or already exists.
2024-10-08 at 20:34:58 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:34:58 | INFO | Checking schema for migration 0002
2024-10-08 at 20:34:58 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:34:58 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:34:58 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:34:58 | INFO | Checking schema for migration 0003
2024-10-08 at 20:34:59 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:34:59 | INFO | Database setup completed successfully
2024-10-08 at 20:34:59 | INFO | Database setup completed successfully
2024-10-08 at 20:34:59 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:35:01 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:35:17 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:35:17 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:35:18 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:35:18 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:35:18 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:35:18 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 20:35:18 | INFO | User profile is incomplete
2024-10-08 at 20:35:31 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:35:31 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:35:31 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:35:33 | INFO | Bucket user-media already exists
2024-10-08 at 20:35:34 | ERROR | Error updating user: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'media' column of 'users' in the schema cache"}
2024-10-08 at 20:35:34 | ERROR | Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 307, in update_user
    response = admin_supabase.table("users").update(json.loads(json_data)).eq("username", user.username).execute()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/postgrest/_sync/request_builder.py", line 78, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'media' column of 'users' in the schema cache"}

2024-10-08 at 20:35:34 | ERROR | Error in profile creation: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'media' column of 'users' in the schema cache"}
2024-10-08 at 20:35:34 | ERROR | Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py", line 326, in handle_profile_creation
    await update_user(user, context.bot)
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 307, in update_user
    response = admin_supabase.table("users").update(json.loads(json_data)).eq("username", user.username).execute()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/postgrest/_sync/request_builder.py", line 78, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'media' column of 'users' in the schema cache"}

2024-10-08 at 20:36:31 | INFO | Stopping the bot...
2024-10-08 at 20:36:31 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:36:31 | INFO | Bot stopped successfully.
2024-10-08 at 20:36:31 | INFO | Bot stopped by user.
2024-10-08 at 20:37:16 | INFO | Configuration loaded:
2024-10-08 at 20:37:16 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:37:16 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:37:16 | INFO | USERS_TABLE: users
2024-10-08 at 20:37:16 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:37:16 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:37:17 | INFO | Database connection verified successfully
2024-10-08 at 20:37:17 | INFO | Starting migration process...
2024-10-08 at 20:37:17 | INFO | Migrations table created or already exists.
2024-10-08 at 20:37:17 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:37:17 | INFO | Checking schema for migration 0001
2024-10-08 at 20:37:17 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:37:17 | INFO | Users table created or already exists.
2024-10-08 at 20:37:17 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:37:17 | INFO | Checking schema for migration 0002
2024-10-08 at 20:37:17 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:37:17 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:37:17 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:37:17 | INFO | Checking schema for migration 0003
2024-10-08 at 20:37:17 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:37:17 | INFO | Database setup completed successfully
2024-10-08 at 20:37:18 | INFO | Database connection verified successfully
2024-10-08 at 20:37:18 | INFO | Starting migration process...
2024-10-08 at 20:37:18 | INFO | Migrations table created or already exists.
2024-10-08 at 20:37:18 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:37:18 | INFO | Checking schema for migration 0001
2024-10-08 at 20:37:18 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:37:18 | INFO | Users table created or already exists.
2024-10-08 at 20:37:18 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:37:18 | INFO | Checking schema for migration 0002
2024-10-08 at 20:37:18 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:37:18 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:37:18 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:37:18 | INFO | Checking schema for migration 0003
2024-10-08 at 20:37:18 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:37:18 | INFO | Database setup completed successfully
2024-10-08 at 20:37:18 | INFO | Database setup completed successfully
2024-10-08 at 20:37:18 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:37:20 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:37:25 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:37:25 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:37:25 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:37:25 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:37:25 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:37:25 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 20:37:25 | INFO | User profile is incomplete
2024-10-08 at 20:38:02 | INFO | Stopping the bot...
2024-10-08 at 20:38:02 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:38:02 | INFO | Bot stopped successfully.
2024-10-08 at 20:38:02 | INFO | Bot stopped by user.
2024-10-08 at 20:39:04 | INFO | Configuration loaded:
2024-10-08 at 20:39:04 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:39:04 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:39:04 | INFO | USERS_TABLE: users
2024-10-08 at 20:39:04 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:39:04 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:39:04 | INFO | Database connection verified successfully
2024-10-08 at 20:39:04 | INFO | Starting migration process...
2024-10-08 at 20:39:04 | INFO | Migrations table created or already exists.
2024-10-08 at 20:39:04 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:39:04 | INFO | Checking schema for migration 0001
2024-10-08 at 20:39:04 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:39:04 | INFO | Users table created or already exists.
2024-10-08 at 20:39:04 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:39:04 | INFO | Checking schema for migration 0002
2024-10-08 at 20:39:04 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:39:04 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:39:04 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:39:04 | INFO | Checking schema for migration 0003
2024-10-08 at 20:39:05 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:39:05 | INFO | Database setup completed successfully
2024-10-08 at 20:39:05 | INFO | Database connection verified successfully
2024-10-08 at 20:39:05 | INFO | Starting migration process...
2024-10-08 at 20:39:05 | INFO | Migrations table created or already exists.
2024-10-08 at 20:39:05 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:39:05 | INFO | Checking schema for migration 0001
2024-10-08 at 20:39:05 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:39:05 | INFO | Users table created or already exists.
2024-10-08 at 20:39:05 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:39:05 | INFO | Checking schema for migration 0002
2024-10-08 at 20:39:05 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:39:05 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:39:05 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:39:05 | INFO | Checking schema for migration 0003
2024-10-08 at 20:39:06 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:39:06 | INFO | Database setup completed successfully
2024-10-08 at 20:39:06 | INFO | Database setup completed successfully
2024-10-08 at 20:39:06 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:39:08 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:39:12 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:39:12 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:39:13 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:39:13 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:39:13 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:39:13 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 20:39:13 | INFO | User profile is incomplete
2024-10-08 at 20:39:48 | INFO | Stopping the bot...
2024-10-08 at 20:39:48 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:39:48 | INFO | Bot stopped successfully.
2024-10-08 at 20:39:48 | INFO | Bot stopped by user.
2024-10-08 at 20:41:01 | INFO | Configuration loaded:
2024-10-08 at 20:41:01 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:41:01 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:41:01 | INFO | USERS_TABLE: users
2024-10-08 at 20:41:01 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:41:01 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:41:02 | INFO | Database connection verified successfully
2024-10-08 at 20:41:02 | INFO | Starting migration process...
2024-10-08 at 20:41:02 | INFO | Migrations table created or already exists.
2024-10-08 at 20:41:02 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:41:02 | INFO | Checking schema for migration 0001
2024-10-08 at 20:41:02 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:41:02 | INFO | Users table created or already exists.
2024-10-08 at 20:41:02 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:41:02 | INFO | Checking schema for migration 0002
2024-10-08 at 20:41:02 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:41:02 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:41:02 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:41:02 | INFO | Checking schema for migration 0003
2024-10-08 at 20:41:03 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:41:03 | INFO | Database setup completed successfully
2024-10-08 at 20:41:03 | INFO | Database connection verified successfully
2024-10-08 at 20:41:03 | INFO | Starting migration process...
2024-10-08 at 20:41:03 | INFO | Migrations table created or already exists.
2024-10-08 at 20:41:03 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:41:03 | INFO | Checking schema for migration 0001
2024-10-08 at 20:41:03 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:41:03 | INFO | Users table created or already exists.
2024-10-08 at 20:41:03 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:41:03 | INFO | Checking schema for migration 0002
2024-10-08 at 20:41:03 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:41:03 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:41:03 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:41:03 | INFO | Checking schema for migration 0003
2024-10-08 at 20:41:04 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:41:04 | INFO | Database setup completed successfully
2024-10-08 at 20:41:04 | INFO | Database setup completed successfully
2024-10-08 at 20:41:04 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:41:06 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:41:09 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:41:09 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:41:10 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:41:10 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:41:10 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:41:10 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 20:41:10 | INFO | User profile is incomplete
2024-10-08 at 20:42:07 | INFO | Stopping the bot...
2024-10-08 at 20:42:07 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:42:07 | INFO | Bot stopped successfully.
2024-10-08 at 20:42:07 | INFO | Bot stopped by user.
2024-10-08 at 20:43:04 | INFO | Configuration loaded:
2024-10-08 at 20:43:04 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:43:04 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:43:04 | INFO | USERS_TABLE: users
2024-10-08 at 20:43:04 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:43:04 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:43:05 | INFO | Database connection verified successfully
2024-10-08 at 20:43:05 | INFO | Starting migration process...
2024-10-08 at 20:43:05 | INFO | Migrations table created or already exists.
2024-10-08 at 20:43:05 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:43:05 | INFO | Checking schema for migration 0001
2024-10-08 at 20:43:05 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:43:05 | INFO | Users table created or already exists.
2024-10-08 at 20:43:05 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:43:05 | INFO | Checking schema for migration 0002
2024-10-08 at 20:43:05 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:43:06 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:43:06 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:43:06 | INFO | Checking schema for migration 0003
2024-10-08 at 20:43:06 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:43:06 | INFO | Database setup completed successfully
2024-10-08 at 20:43:06 | INFO | Database connection verified successfully
2024-10-08 at 20:43:06 | INFO | Starting migration process...
2024-10-08 at 20:43:06 | INFO | Migrations table created or already exists.
2024-10-08 at 20:43:06 | INFO | Found 3 previously applied migrations.
2024-10-08 at 20:43:06 | INFO | Checking schema for migration 0001
2024-10-08 at 20:43:06 | WARNING | Schema mismatch detected for migration 0001. Attempting to fix...
2024-10-08 at 20:43:06 | INFO | Users table created or already exists.
2024-10-08 at 20:43:06 | INFO | Schema fixed for migration 0001
2024-10-08 at 20:43:06 | INFO | Checking schema for migration 0002
2024-10-08 at 20:43:07 | WARNING | Schema mismatch detected for migration 0002. Attempting to fix...
2024-10-08 at 20:43:07 | INFO | Interests column added to users table or already exists.
2024-10-08 at 20:43:07 | INFO | Schema fixed for migration 0002
2024-10-08 at 20:43:07 | INFO | Checking schema for migration 0003
2024-10-08 at 20:43:07 | INFO | All migrations applied and schemas validated successfully
2024-10-08 at 20:43:07 | INFO | Database setup completed successfully
2024-10-08 at 20:43:07 | INFO | Database setup completed successfully
2024-10-08 at 20:43:07 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:43:10 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:43:13 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:43:13 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:43:13 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:43:13 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:43:13 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:43:13 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 20:43:13 | INFO | User profile is incomplete
2024-10-08 at 20:43:20 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:43:21 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:43:21 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:43:23 | INFO | Created new bucket: temp_user_theprofcrypto_media_0_1728395002.jpg
2024-10-08 at 20:43:23 | ERROR | Error uploading file to bucket: [Errno 2] No such file or directory: 'user-media'
2024-10-08 at 20:43:23 | ERROR | Error uploading file to bucket: [Errno 2] No such file or directory: 'user-media'
2024-10-08 at 20:43:24 | ERROR | Error updating user: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'media' column of 'users' in the schema cache"}
2024-10-08 at 20:43:24 | ERROR | Traceback: Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 296, in update_user
    response = admin_supabase.table("users").update(json.loads(json_data)).eq("username", user.username).execute()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/postgrest/_sync/request_builder.py", line 78, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'media' column of 'users' in the schema cache"}

2024-10-08 at 20:43:46 | INFO | Stopping the bot...
2024-10-08 at 20:43:46 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:43:46 | INFO | Bot stopped successfully.
2024-10-08 at 20:43:46 | INFO | Bot stopped by user.
2024-10-08 at 20:45:02 | INFO | Configuration loaded:
2024-10-08 at 20:45:02 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:45:02 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:45:02 | INFO | USERS_TABLE: users
2024-10-08 at 20:45:02 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:45:02 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:45:02 | INFO | Database connection verified successfully
2024-10-08 at 20:45:02 | INFO | Starting database migrations...
2024-10-08 at 20:45:02 | ERROR | Error applying migrations: name 'get_backend' is not defined
2024-10-08 at 20:45:02 | ERROR | Migration process failed. Manual intervention may be required.
2024-10-08 at 20:45:02 | ERROR | Database setup failed. Exiting the application.
2024-10-08 at 20:48:03 | INFO | Configuration loaded:
2024-10-08 at 20:48:03 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:48:03 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:48:03 | INFO | USERS_TABLE: users
2024-10-08 at 20:48:03 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:48:03 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:48:04 | INFO | Database connection verified successfully
2024-10-08 at 20:48:04 | INFO | Starting database migrations...
2024-10-08 at 20:48:04 | INFO | Migration 0001 already applied
2024-10-08 at 20:48:04 | INFO | Migration 0002 already applied
2024-10-08 at 20:48:04 | INFO | Migration 0003 already applied
2024-10-08 at 20:48:04 | INFO | All migrations applied successfully
2024-10-08 at 20:48:04 | INFO | Database setup completed successfully
2024-10-08 at 20:48:04 | INFO | Database connection verified successfully
2024-10-08 at 20:48:04 | INFO | Starting database migrations...
2024-10-08 at 20:48:04 | INFO | Migration 0001 already applied
2024-10-08 at 20:48:04 | INFO | Migration 0002 already applied
2024-10-08 at 20:48:04 | INFO | Migration 0003 already applied
2024-10-08 at 20:48:04 | INFO | All migrations applied successfully
2024-10-08 at 20:48:04 | INFO | Database setup completed successfully
2024-10-08 at 20:48:04 | INFO | Database setup completed successfully
2024-10-08 at 20:48:04 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:48:06 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:48:11 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:48:11 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:48:11 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:48:11 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:48:11 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:48:11 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 20:48:11 | INFO | User profile is incomplete
2024-10-08 at 20:48:19 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:48:20 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': []}] count=None
2024-10-08 at 20:48:20 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:48:22 | INFO | Bucket user-media already exists
2024-10-08 at 20:48:23 | ERROR | Error updating user: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'media' column of 'users' in the schema cache"}
2024-10-08 at 20:48:23 | ERROR | Traceback: Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 302, in update_user
    response = admin_supabase.table("users").update(json.loads(json_data)).eq("username", user.username).execute()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/postgrest/_sync/request_builder.py", line 78, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'media' column of 'users' in the schema cache"}

2024-10-08 at 20:49:46 | INFO | Stopping the bot...
2024-10-08 at 20:49:46 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:49:46 | INFO | Bot stopped successfully.
2024-10-08 at 20:49:46 | INFO | Bot stopped by user.
2024-10-08 at 20:49:48 | INFO | Configuration loaded:
2024-10-08 at 20:49:48 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:49:48 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:49:48 | INFO | USERS_TABLE: users
2024-10-08 at 20:49:48 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:49:48 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:49:49 | INFO | Database connection verified successfully
2024-10-08 at 20:49:49 | INFO | Starting database migrations...
2024-10-08 at 20:49:49 | INFO | Migration 0001 already applied
2024-10-08 at 20:49:49 | INFO | Migration 0002 already applied
2024-10-08 at 20:49:49 | INFO | Migration 0003 already applied
2024-10-08 at 20:49:49 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 20:49:49 | INFO | Ensured media column exists in users table.
2024-10-08 at 20:49:49 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:49:49 | ERROR | Migration process failed. Manual intervention may be required.
2024-10-08 at 20:49:49 | ERROR | Database setup failed. Exiting the application.
2024-10-08 at 20:50:50 | INFO | Configuration loaded:
2024-10-08 at 20:50:50 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:50:50 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:50:50 | INFO | USERS_TABLE: users
2024-10-08 at 20:50:50 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:50:50 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:50:50 | INFO | Database connection verified successfully
2024-10-08 at 20:50:50 | INFO | Starting database migrations...
2024-10-08 at 20:50:51 | INFO | Migration 0001 already applied
2024-10-08 at 20:50:51 | INFO | Migration 0002 already applied
2024-10-08 at 20:50:51 | INFO | Migration 0003 already applied
2024-10-08 at 20:50:51 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 20:50:51 | INFO | Ensured media column exists in users table.
2024-10-08 at 20:50:51 | ERROR | Error applying migrations: {'code': '3F000', 'details': None, 'hint': None, 'message': 'schema "postgrest" does not exist'}
2024-10-08 at 20:50:51 | ERROR | Traceback: Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/migrations.py", line 230, in run_migrations
    await migration.up()
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/migrations.py", line 172, in up
    supabase_client.rpc("execute_sql", {"query": "SELECT postgrest.rebuild_schema_cache();"}).execute()
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/postgrest/_sync/request_builder.py", line 127, in execute
    raise APIError(r.json())
postgrest.exceptions.APIError: {'code': '3F000', 'details': None, 'hint': None, 'message': 'schema "postgrest" does not exist'}

2024-10-08 at 20:50:51 | ERROR | Migration process failed. Manual intervention may be required.
2024-10-08 at 20:50:51 | ERROR | Database setup failed. Exiting the application.
2024-10-08 at 20:52:13 | INFO | Configuration loaded:
2024-10-08 at 20:52:13 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:52:13 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:52:13 | INFO | USERS_TABLE: users
2024-10-08 at 20:52:13 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:52:13 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:52:14 | INFO | Database connection verified successfully
2024-10-08 at 20:52:14 | INFO | Starting database migrations...
2024-10-08 at 20:52:14 | INFO | Migration 0001 already applied
2024-10-08 at 20:52:14 | INFO | Migration 0002 already applied
2024-10-08 at 20:52:14 | INFO | Migration 0003 already applied
2024-10-08 at 20:52:14 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 20:52:14 | INFO | Ensured media column exists in users table.
2024-10-08 at 20:52:14 | WARNING | Unable to refresh schema cache: {'code': '3F000', 'details': None, 'hint': None, 'message': 'schema "postgrest" does not exist'}. This is not critical, but you may need to restart your Supabase instance.
2024-10-08 at 20:52:14 | INFO | Media column check response: []
2024-10-08 at 20:52:14 | ERROR | Media column not found in users table
2024-10-08 at 20:52:14 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:52:14 | WARNING | Migration process failed. Attempting to continue with existing schema.
2024-10-08 at 20:52:14 | INFO | Checking all schemas...
2024-10-08 at 20:52:14 | ERROR | Schema check failed for migration 0001
2024-10-08 at 20:52:15 | ERROR | Schema check failed for migration 0002
2024-10-08 at 20:52:15 | INFO | Schema check passed for migration 0003
2024-10-08 at 20:52:15 | INFO | Media column check response: []
2024-10-08 at 20:52:15 | ERROR | Media column not found in users table
2024-10-08 at 20:52:15 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:52:15 | INFO | Schema check completed
2024-10-08 at 20:52:15 | INFO | Database setup completed
2024-10-08 at 20:52:15 | INFO | Database connection verified successfully
2024-10-08 at 20:52:15 | INFO | Starting database migrations...
2024-10-08 at 20:52:16 | INFO | Migration 0001 already applied
2024-10-08 at 20:52:16 | INFO | Migration 0002 already applied
2024-10-08 at 20:52:16 | INFO | Migration 0003 already applied
2024-10-08 at 20:52:16 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 20:52:16 | INFO | Ensured media column exists in users table.
2024-10-08 at 20:52:16 | WARNING | Unable to refresh schema cache: {'code': '3F000', 'details': None, 'hint': None, 'message': 'schema "postgrest" does not exist'}. This is not critical, but you may need to restart your Supabase instance.
2024-10-08 at 20:52:16 | INFO | Media column check response: []
2024-10-08 at 20:52:16 | ERROR | Media column not found in users table
2024-10-08 at 20:52:16 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:52:16 | WARNING | Migration process failed. Attempting to continue with existing schema.
2024-10-08 at 20:52:16 | INFO | Checking all schemas...
2024-10-08 at 20:52:16 | ERROR | Schema check failed for migration 0001
2024-10-08 at 20:52:16 | ERROR | Schema check failed for migration 0002
2024-10-08 at 20:52:17 | INFO | Schema check passed for migration 0003
2024-10-08 at 20:52:17 | INFO | Media column check response: []
2024-10-08 at 20:52:17 | ERROR | Media column not found in users table
2024-10-08 at 20:52:17 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:52:17 | INFO | Schema check completed
2024-10-08 at 20:52:17 | INFO | Database setup completed
2024-10-08 at 20:52:17 | INFO | Database setup completed successfully
2024-10-08 at 20:52:17 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:52:19 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:52:22 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:52:22 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:52:23 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': []}] count=None
2024-10-08 at 20:52:23 | ERROR | Error in get_or_create_user: the JSON object must be str, bytes or bytearray, not list
2024-10-08 at 20:52:23 | ERROR | Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 341, in get_or_create_user
    user_data['media'] = json.loads(user_data.get('media', '[]'))  # Parse media JSON
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.7/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not list

2024-10-08 at 20:52:23 | ERROR | Error in start command: the JSON object must be str, bytes or bytearray, not list
2024-10-08 at 20:52:23 | ERROR | Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py", line 58, in start
    user = await get_or_create_user(update.effective_user.username)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 341, in get_or_create_user
    user_data['media'] = json.loads(user_data.get('media', '[]'))  # Parse media JSON
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.7/Frameworks/Python.framework/Versions/3.12/lib/python3.12/json/__init__.py", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not list

2024-10-08 at 20:53:20 | INFO | Stopping the bot...
2024-10-08 at 20:53:20 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:53:20 | INFO | Bot stopped successfully.
2024-10-08 at 20:53:20 | INFO | Bot stopped by user.
2024-10-08 at 20:53:37 | INFO | Configuration loaded:
2024-10-08 at 20:53:37 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:53:37 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:53:37 | INFO | USERS_TABLE: users
2024-10-08 at 20:53:37 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:53:37 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:53:37 | INFO | Database connection verified successfully
2024-10-08 at 20:53:37 | INFO | Starting database migrations...
2024-10-08 at 20:53:37 | INFO | Migration 0001 already applied
2024-10-08 at 20:53:37 | INFO | Migration 0002 already applied
2024-10-08 at 20:53:37 | INFO | Migration 0003 already applied
2024-10-08 at 20:53:37 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 20:53:37 | INFO | Ensured media column exists in users table.
2024-10-08 at 20:53:38 | WARNING | Unable to refresh schema cache: {'code': '3F000', 'details': None, 'hint': None, 'message': 'schema "postgrest" does not exist'}. This is not critical, but you may need to restart your Supabase instance.
2024-10-08 at 20:53:38 | INFO | Media column check response: []
2024-10-08 at 20:53:38 | ERROR | Media column not found in users table
2024-10-08 at 20:53:38 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:53:38 | WARNING | Migration process failed. Attempting to continue with existing schema.
2024-10-08 at 20:53:38 | INFO | Checking all schemas...
2024-10-08 at 20:53:38 | ERROR | Schema check failed for migration 0001
2024-10-08 at 20:53:38 | ERROR | Schema check failed for migration 0002
2024-10-08 at 20:53:38 | INFO | Schema check passed for migration 0003
2024-10-08 at 20:53:38 | INFO | Media column check response: []
2024-10-08 at 20:53:38 | ERROR | Media column not found in users table
2024-10-08 at 20:53:38 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:53:38 | INFO | Schema check completed
2024-10-08 at 20:53:38 | INFO | Database setup completed
2024-10-08 at 20:53:38 | INFO | Database connection verified successfully
2024-10-08 at 20:53:38 | INFO | Starting database migrations...
2024-10-08 at 20:53:39 | INFO | Migration 0001 already applied
2024-10-08 at 20:53:39 | INFO | Migration 0002 already applied
2024-10-08 at 20:53:39 | INFO | Migration 0003 already applied
2024-10-08 at 20:53:39 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 20:53:39 | INFO | Ensured media column exists in users table.
2024-10-08 at 20:53:39 | WARNING | Unable to refresh schema cache: {'code': '3F000', 'details': None, 'hint': None, 'message': 'schema "postgrest" does not exist'}. This is not critical, but you may need to restart your Supabase instance.
2024-10-08 at 20:53:39 | INFO | Media column check response: []
2024-10-08 at 20:53:39 | ERROR | Media column not found in users table
2024-10-08 at 20:53:39 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:53:39 | WARNING | Migration process failed. Attempting to continue with existing schema.
2024-10-08 at 20:53:39 | INFO | Checking all schemas...
2024-10-08 at 20:53:39 | ERROR | Schema check failed for migration 0001
2024-10-08 at 20:53:39 | ERROR | Schema check failed for migration 0002
2024-10-08 at 20:53:40 | INFO | Schema check passed for migration 0003
2024-10-08 at 20:53:40 | INFO | Media column check response: []
2024-10-08 at 20:53:40 | ERROR | Media column not found in users table
2024-10-08 at 20:53:40 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:53:40 | INFO | Schema check completed
2024-10-08 at 20:53:40 | INFO | Database setup completed
2024-10-08 at 20:53:40 | INFO | Database setup completed successfully
2024-10-08 at 20:53:40 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:53:42 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:53:51 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:53:51 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:53:51 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': []}] count=None
2024-10-08 at 20:53:51 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:53:51 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:53:51 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 20:53:51 | INFO | User profile is incomplete
2024-10-08 at 20:53:59 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:53:59 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': []}] count=None
2024-10-08 at 20:53:59 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:54:01 | INFO | Bucket user-media already exists
2024-10-08 at 20:54:02 | INFO | User theprofcrypto updated successfully
2024-10-08 at 20:54:03 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 20:54:03 | INFO | User theprofcrypto updated successfully
2024-10-08 at 20:55:47 | INFO | Stopping the bot...
2024-10-08 at 20:55:47 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:55:47 | INFO | Bot stopped successfully.
2024-10-08 at 20:55:47 | INFO | Bot stopped by user.
2024-10-08 at 20:55:50 | INFO | Configuration loaded:
2024-10-08 at 20:55:50 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:55:50 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:55:50 | INFO | USERS_TABLE: users
2024-10-08 at 20:55:50 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:55:50 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:55:50 | INFO | Database connection verified successfully
2024-10-08 at 20:55:50 | INFO | Starting database migrations...
2024-10-08 at 20:55:51 | INFO | Migration 0001 already applied
2024-10-08 at 20:55:51 | INFO | Migration 0002 already applied
2024-10-08 at 20:55:51 | INFO | Migration 0003 already applied
2024-10-08 at 20:55:51 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 20:55:51 | INFO | Ensured media column exists in users table.
2024-10-08 at 20:55:51 | WARNING | Unable to refresh schema cache: {'code': '3F000', 'details': None, 'hint': None, 'message': 'schema "postgrest" does not exist'}. This is not critical, but you may need to restart your Supabase instance.
2024-10-08 at 20:55:51 | INFO | Media column check response: []
2024-10-08 at 20:55:51 | ERROR | Media column not found in users table
2024-10-08 at 20:55:51 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:55:51 | WARNING | Migration process failed. Attempting to continue with existing schema.
2024-10-08 at 20:55:51 | INFO | Checking all schemas...
2024-10-08 at 20:55:51 | ERROR | Schema check failed for migration 0001
2024-10-08 at 20:55:51 | ERROR | Schema check failed for migration 0002
2024-10-08 at 20:55:51 | INFO | Schema check passed for migration 0003
2024-10-08 at 20:55:51 | INFO | Media column check response: []
2024-10-08 at 20:55:51 | ERROR | Media column not found in users table
2024-10-08 at 20:55:51 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:55:51 | INFO | Schema check completed
2024-10-08 at 20:55:51 | INFO | Database setup completed
2024-10-08 at 20:55:52 | INFO | Database connection verified successfully
2024-10-08 at 20:55:52 | INFO | Starting database migrations...
2024-10-08 at 20:55:52 | INFO | Migration 0001 already applied
2024-10-08 at 20:55:52 | INFO | Migration 0002 already applied
2024-10-08 at 20:55:52 | INFO | Migration 0003 already applied
2024-10-08 at 20:55:52 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 20:55:52 | INFO | Ensured media column exists in users table.
2024-10-08 at 20:55:52 | WARNING | Unable to refresh schema cache: {'code': '3F000', 'details': None, 'hint': None, 'message': 'schema "postgrest" does not exist'}. This is not critical, but you may need to restart your Supabase instance.
2024-10-08 at 20:55:52 | INFO | Media column check response: []
2024-10-08 at 20:55:52 | ERROR | Media column not found in users table
2024-10-08 at 20:55:52 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:55:52 | WARNING | Migration process failed. Attempting to continue with existing schema.
2024-10-08 at 20:55:52 | INFO | Checking all schemas...
2024-10-08 at 20:55:52 | ERROR | Schema check failed for migration 0001
2024-10-08 at 20:55:52 | ERROR | Schema check failed for migration 0002
2024-10-08 at 20:55:53 | INFO | Schema check passed for migration 0003
2024-10-08 at 20:55:53 | INFO | Media column check response: []
2024-10-08 at 20:55:53 | ERROR | Media column not found in users table
2024-10-08 at 20:55:53 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:55:53 | INFO | Schema check completed
2024-10-08 at 20:55:53 | INFO | Database setup completed
2024-10-08 at 20:55:53 | INFO | Database setup completed successfully
2024-10-08 at 20:55:53 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:55:55 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:56:00 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:56:00 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:56:00 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?"}]'}] count=None
2024-10-08 at 20:56:00 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:56:00 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:56:00 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 20:56:00 | INFO | User profile is complete
2024-10-08 at 20:56:01 | INFO | User theprofcrypto updated successfully
2024-10-08 at 20:56:04 | ERROR | Error in start command: Failed to get http url content
2024-10-08 at 20:56:04 | ERROR | Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py", line 65, in start
    await greet_existing_user(update, context, user)
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py", line 75, in greet_existing_user
    await show_profile(update, context, user)
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py", line 212, in show_profile
    await update.effective_message.reply_photo(media_group[0].media)
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/_message.py", line 2166, in reply_photo
    return await self.get_bot().send_photo(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/ext/_extbot.py", line 2959, in send_photo
    return await super().send_photo(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/_bot.py", line 1402, in send_photo
    return await self._send_message(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/ext/_extbot.py", line 610, in _send_message
    result = await super()._send_message(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/_bot.py", line 745, in _send_message
    result = await self._post(
             ^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/_bot.py", line 623, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/ext/_extbot.py", line 355, in _do_post
    return await super()._do_post(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/_bot.py", line 652, in _do_post
    result = await request.post(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 201, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 382, in _request_wrapper
    raise BadRequest(message)
telegram.error.BadRequest: Failed to get http url content

2024-10-08 at 20:56:33 | INFO | Stopping the bot...
2024-10-08 at 20:56:33 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:56:33 | INFO | Bot stopped successfully.
2024-10-08 at 20:56:33 | INFO | Bot stopped by user.
2024-10-08 at 20:57:27 | INFO | Configuration loaded:
2024-10-08 at 20:57:27 | INFO | LOG_LEVEL: INFO
2024-10-08 at 20:57:27 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 20:57:27 | INFO | USERS_TABLE: users
2024-10-08 at 20:57:27 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 20:57:27 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 20:57:27 | INFO | Database connection verified successfully
2024-10-08 at 20:57:27 | INFO | Starting database migrations...
2024-10-08 at 20:57:28 | INFO | Migration 0001 already applied
2024-10-08 at 20:57:28 | INFO | Migration 0002 already applied
2024-10-08 at 20:57:28 | INFO | Migration 0003 already applied
2024-10-08 at 20:57:28 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 20:57:28 | INFO | Ensured media column exists in users table.
2024-10-08 at 20:57:28 | WARNING | Unable to refresh schema cache: {'code': '3F000', 'details': None, 'hint': None, 'message': 'schema "postgrest" does not exist'}. This is not critical, but you may need to restart your Supabase instance.
2024-10-08 at 20:57:28 | INFO | Media column check response: []
2024-10-08 at 20:57:28 | ERROR | Media column not found in users table
2024-10-08 at 20:57:28 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:57:28 | WARNING | Migration process failed. Attempting to continue with existing schema.
2024-10-08 at 20:57:28 | INFO | Checking all schemas...
2024-10-08 at 20:57:28 | ERROR | Schema check failed for migration 0001
2024-10-08 at 20:57:28 | ERROR | Schema check failed for migration 0002
2024-10-08 at 20:57:28 | INFO | Schema check passed for migration 0003
2024-10-08 at 20:57:28 | INFO | Media column check response: []
2024-10-08 at 20:57:28 | ERROR | Media column not found in users table
2024-10-08 at 20:57:28 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:57:28 | INFO | Schema check completed
2024-10-08 at 20:57:28 | INFO | Database setup completed
2024-10-08 at 20:57:29 | INFO | Database connection verified successfully
2024-10-08 at 20:57:29 | INFO | Starting database migrations...
2024-10-08 at 20:57:29 | INFO | Migration 0001 already applied
2024-10-08 at 20:57:29 | INFO | Migration 0002 already applied
2024-10-08 at 20:57:29 | INFO | Migration 0003 already applied
2024-10-08 at 20:57:29 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 20:57:29 | INFO | Ensured media column exists in users table.
2024-10-08 at 20:57:29 | WARNING | Unable to refresh schema cache: {'code': '3F000', 'details': None, 'hint': None, 'message': 'schema "postgrest" does not exist'}. This is not critical, but you may need to restart your Supabase instance.
2024-10-08 at 20:57:29 | INFO | Media column check response: []
2024-10-08 at 20:57:29 | ERROR | Media column not found in users table
2024-10-08 at 20:57:29 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:57:29 | WARNING | Migration process failed. Attempting to continue with existing schema.
2024-10-08 at 20:57:29 | INFO | Checking all schemas...
2024-10-08 at 20:57:29 | ERROR | Schema check failed for migration 0001
2024-10-08 at 20:57:29 | ERROR | Schema check failed for migration 0002
2024-10-08 at 20:57:30 | INFO | Schema check passed for migration 0003
2024-10-08 at 20:57:30 | INFO | Media column check response: []
2024-10-08 at 20:57:30 | ERROR | Media column not found in users table
2024-10-08 at 20:57:30 | ERROR | Schema check failed for migration 0004
2024-10-08 at 20:57:30 | INFO | Schema check completed
2024-10-08 at 20:57:30 | INFO | Database setup completed
2024-10-08 at 20:57:30 | INFO | Database setup completed successfully
2024-10-08 at 20:57:30 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 20:57:32 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 20:57:37 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 20:57:37 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 20:57:38 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?"}]'}] count=None
2024-10-08 at 20:57:38 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:57:38 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 20:57:38 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 20:57:38 | INFO | User profile is complete
2024-10-08 at 20:57:38 | INFO | User theprofcrypto updated successfully
2024-10-08 at 20:57:39 | ERROR | Error sending media: Wrong file identifier/http url specified
2024-10-08 at 20:57:40 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?'}]
2024-10-08 at 20:58:22 | INFO | Stopping the bot...
2024-10-08 at 20:58:22 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 20:58:22 | INFO | Bot stopped successfully.
2024-10-08 at 20:58:22 | INFO | Bot stopped by user.
2024-10-08 at 21:01:31 | INFO | Configuration loaded:
2024-10-08 at 21:01:31 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:01:31 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:01:31 | INFO | USERS_TABLE: users
2024-10-08 at 21:01:31 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:01:31 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:01:31 | INFO | Database connection verified successfully
2024-10-08 at 21:01:31 | INFO | Starting database migrations...
2024-10-08 at 21:01:31 | INFO | Migration 0001 already applied
2024-10-08 at 21:01:31 | INFO | Migration 0002 already applied
2024-10-08 at 21:01:31 | INFO | Migration 0003 already applied
2024-10-08 at 21:01:31 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:01:31 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:01:32 | WARNING | Unable to refresh schema cache: {'code': '3F000', 'details': None, 'hint': None, 'message': 'schema "postgrest" does not exist'}. This is not critical, but you may need to restart your Supabase instance.
2024-10-08 at 21:01:32 | INFO | Media column check response: []
2024-10-08 at 21:01:32 | ERROR | Media column not found in users table
2024-10-08 at 21:01:32 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:01:32 | WARNING | Migration process failed. Attempting to continue with existing schema.
2024-10-08 at 21:01:32 | INFO | Checking all schemas...
2024-10-08 at 21:01:32 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:01:32 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:01:32 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:01:32 | INFO | Media column check response: []
2024-10-08 at 21:01:32 | ERROR | Media column not found in users table
2024-10-08 at 21:01:32 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:01:32 | INFO | Schema check completed
2024-10-08 at 21:01:32 | INFO | Database setup completed
2024-10-08 at 21:01:32 | INFO | Database connection verified successfully
2024-10-08 at 21:01:32 | INFO | Starting database migrations...
2024-10-08 at 21:01:33 | INFO | Migration 0001 already applied
2024-10-08 at 21:01:33 | INFO | Migration 0002 already applied
2024-10-08 at 21:01:33 | INFO | Migration 0003 already applied
2024-10-08 at 21:01:33 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:01:33 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:01:33 | WARNING | Unable to refresh schema cache: {'code': '3F000', 'details': None, 'hint': None, 'message': 'schema "postgrest" does not exist'}. This is not critical, but you may need to restart your Supabase instance.
2024-10-08 at 21:01:33 | INFO | Media column check response: []
2024-10-08 at 21:01:33 | ERROR | Media column not found in users table
2024-10-08 at 21:01:33 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:01:33 | WARNING | Migration process failed. Attempting to continue with existing schema.
2024-10-08 at 21:01:33 | INFO | Checking all schemas...
2024-10-08 at 21:01:33 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:01:33 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:01:33 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:01:33 | INFO | Media column check response: []
2024-10-08 at 21:01:33 | ERROR | Media column not found in users table
2024-10-08 at 21:01:33 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:01:33 | INFO | Schema check completed
2024-10-08 at 21:01:33 | INFO | Database setup completed
2024-10-08 at 21:01:33 | INFO | Database setup completed successfully
2024-10-08 at 21:01:33 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:01:35 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:03:40 | INFO | Stopping the bot...
2024-10-08 at 21:03:40 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:03:40 | INFO | Bot stopped successfully.
2024-10-08 at 21:03:40 | INFO | Bot stopped by user.
2024-10-08 at 21:03:43 | INFO | Configuration loaded:
2024-10-08 at 21:03:43 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:03:43 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:03:43 | INFO | USERS_TABLE: users
2024-10-08 at 21:03:43 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:03:43 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:03:43 | INFO | Database connection verified successfully
2024-10-08 at 21:03:43 | INFO | Starting database migrations...
2024-10-08 at 21:03:44 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:03:44 | INFO | Migration 0001 already applied
2024-10-08 at 21:03:44 | INFO | Migration 0002 already applied
2024-10-08 at 21:03:44 | INFO | Migration 0003 already applied
2024-10-08 at 21:03:44 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:03:44 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:03:44 | INFO | Media column check response: []
2024-10-08 at 21:03:44 | ERROR | Media column not found in users table
2024-10-08 at 21:03:44 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:03:44 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:03:44 | INFO | Checking all schemas...
2024-10-08 at 21:03:44 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:03:44 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:03:44 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:03:44 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:03:44 | INFO | Media column check response: []
2024-10-08 at 21:03:44 | ERROR | Media column not found in users table
2024-10-08 at 21:03:44 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:03:44 | INFO | Schema check completed
2024-10-08 at 21:03:44 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:03:44 | INFO | Database setup completed
2024-10-08 at 21:03:44 | INFO | Database connection verified successfully
2024-10-08 at 21:03:44 | INFO | Starting database migrations...
2024-10-08 at 21:03:45 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:03:45 | INFO | Migration 0001 already applied
2024-10-08 at 21:03:45 | INFO | Migration 0002 already applied
2024-10-08 at 21:03:45 | INFO | Migration 0003 already applied
2024-10-08 at 21:03:45 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:03:45 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:03:45 | INFO | Media column check response: []
2024-10-08 at 21:03:45 | ERROR | Media column not found in users table
2024-10-08 at 21:03:45 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:03:45 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:03:45 | INFO | Checking all schemas...
2024-10-08 at 21:03:45 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:03:45 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:03:45 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:03:45 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:03:45 | INFO | Media column check response: []
2024-10-08 at 21:03:45 | ERROR | Media column not found in users table
2024-10-08 at 21:03:45 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:03:45 | INFO | Schema check completed
2024-10-08 at 21:03:45 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:03:45 | INFO | Database setup completed
2024-10-08 at 21:03:45 | INFO | Database setup completed successfully
2024-10-08 at 21:03:45 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:03:47 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:03:52 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 21:03:52 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:03:52 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?"}]'}] count=None
2024-10-08 at 21:03:52 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:03:52 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:03:52 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 21:03:52 | INFO | User profile is complete
2024-10-08 at 21:03:52 | INFO | User theprofcrypto updated successfully
2024-10-08 at 21:03:53 | ERROR | Error sending media: Wrong file identifier/http url specified
2024-10-08 at 21:03:53 | ERROR | Media group: [InputMediaPhoto(media='https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg', type=<InputMediaType.PHOTO>)]
2024-10-08 at 21:03:54 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?'}]
2024-10-08 at 21:04:42 | INFO | Stopping the bot...
2024-10-08 at 21:04:42 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:04:42 | INFO | Bot stopped successfully.
2024-10-08 at 21:04:42 | INFO | Bot stopped by user.
2024-10-08 at 21:16:29 | INFO | Configuration loaded:
2024-10-08 at 21:16:29 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:16:29 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:16:29 | INFO | USERS_TABLE: users
2024-10-08 at 21:16:29 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:16:29 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:16:29 | ERROR | Failed to import required modules: No module named 'aiofiles'
2024-10-08 at 21:16:29 | ERROR | Please check your configuration and ensure all required modules are installed.
2024-10-08 at 21:16:29 | ERROR | Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py", line 22, in <module>
    from database.db_operations import get_or_create_user, update_user, setup_database, upload_file_to_bucket, verify_and_update_media, get_cached_media_url
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/__init__.py", line 2, in <module>
    from .initialization import setup
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/initialization.py", line 1, in <module>
    from .db_operations import setup_database, verify_database_connection
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 16, in <module>
    import aiofiles
ModuleNotFoundError: No module named 'aiofiles'

2024-10-08 at 21:19:59 | INFO | Configuration loaded:
2024-10-08 at 21:19:59 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:19:59 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:19:59 | INFO | USERS_TABLE: users
2024-10-08 at 21:19:59 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:19:59 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:19:59 | ERROR | Failed to import required modules: cannot import name 'MEDIA_CACHE_DIR' from 'config' (/Users/irfandi/Coding/2024_Project/match-bot/src/config.py)
2024-10-08 at 21:19:59 | ERROR | Please check your configuration and ensure all required modules are installed.
2024-10-08 at 21:19:59 | ERROR | Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py", line 27, in <module>
    from database.db_operations import get_or_create_user, update_user, setup_database, upload_file_to_bucket, verify_and_update_media, get_cached_media_url
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/__init__.py", line 2, in <module>
    from .initialization import setup
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/initialization.py", line 1, in <module>
    from .db_operations import setup_database, verify_database_connection
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 21, in <module>
    from config import MEDIA_CACHE_DIR
ImportError: cannot import name 'MEDIA_CACHE_DIR' from 'config' (/Users/irfandi/Coding/2024_Project/match-bot/src/config.py)

2024-10-08 at 21:21:42 | INFO | Configuration loaded:
2024-10-08 at 21:21:42 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:21:42 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:21:42 | INFO | USERS_TABLE: users
2024-10-08 at 21:21:42 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:21:42 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:21:42 | INFO | Database connection verified successfully
2024-10-08 at 21:21:42 | INFO | Created media cache directory: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:21:42 | INFO | Starting database migrations...
2024-10-08 at 21:21:42 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:21:42 | INFO | Migration 0001 already applied
2024-10-08 at 21:21:42 | INFO | Migration 0002 already applied
2024-10-08 at 21:21:42 | INFO | Migration 0003 already applied
2024-10-08 at 21:21:42 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:21:43 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:21:43 | INFO | Media column check response: []
2024-10-08 at 21:21:43 | ERROR | Media column not found in users table
2024-10-08 at 21:21:43 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:21:43 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:21:43 | INFO | Checking all schemas...
2024-10-08 at 21:21:43 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:21:43 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:21:43 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:21:43 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:21:43 | INFO | Media column check response: []
2024-10-08 at 21:21:43 | ERROR | Media column not found in users table
2024-10-08 at 21:21:43 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:21:43 | INFO | Schema check completed
2024-10-08 at 21:21:43 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:21:43 | INFO | Database setup completed
2024-10-08 at 21:21:43 | INFO | Database connection verified successfully
2024-10-08 at 21:21:43 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:21:43 | INFO | Starting database migrations...
2024-10-08 at 21:21:44 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:21:44 | INFO | Migration 0001 already applied
2024-10-08 at 21:21:44 | INFO | Migration 0002 already applied
2024-10-08 at 21:21:44 | INFO | Migration 0003 already applied
2024-10-08 at 21:21:44 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:21:44 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:21:44 | INFO | Media column check response: []
2024-10-08 at 21:21:44 | ERROR | Media column not found in users table
2024-10-08 at 21:21:44 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:21:44 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:21:44 | INFO | Checking all schemas...
2024-10-08 at 21:21:44 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:21:44 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:21:44 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:21:44 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:21:44 | INFO | Media column check response: []
2024-10-08 at 21:21:44 | ERROR | Media column not found in users table
2024-10-08 at 21:21:44 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:21:44 | INFO | Schema check completed
2024-10-08 at 21:21:45 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:21:45 | INFO | Database setup completed
2024-10-08 at 21:21:45 | INFO | Database setup completed successfully
2024-10-08 at 21:21:45 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:21:46 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:21:52 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 21:21:52 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:21:52 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?"}]'}] count=None
2024-10-08 at 21:21:53 | WARNING | Media not available for user theprofcrypto: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?
2024-10-08 at 21:21:53 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:21:53 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:21:53 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 21:21:53 | INFO | User profile is incomplete
2024-10-08 at 21:22:01 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:22:01 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?"}]'}] count=None
2024-10-08 at 21:22:02 | WARNING | Media not available for user theprofcrypto: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728395640.jpg?
2024-10-08 at 21:22:02 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:22:04 | INFO | Bucket user-media already exists
2024-10-08 at 21:22:05 | ERROR | Error uploading file to bucket: Invalid URL: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397323.jpg
2024-10-08 at 21:22:06 | INFO | User theprofcrypto updated successfully
2024-10-08 at 21:22:06 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 21:24:12 | INFO | Stopping the bot...
2024-10-08 at 21:24:12 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:24:12 | INFO | Bot stopped successfully.
2024-10-08 at 21:24:12 | INFO | Bot stopped by user.
2024-10-08 at 21:25:31 | INFO | Configuration loaded:
2024-10-08 at 21:25:31 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:25:31 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:25:31 | INFO | USERS_TABLE: users
2024-10-08 at 21:25:31 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:25:31 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:25:32 | INFO | Database connection verified successfully
2024-10-08 at 21:25:32 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:25:32 | INFO | Starting database migrations...
2024-10-08 at 21:25:33 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:25:33 | INFO | Migration 0001 already applied
2024-10-08 at 21:25:33 | INFO | Migration 0002 already applied
2024-10-08 at 21:25:33 | INFO | Migration 0003 already applied
2024-10-08 at 21:25:33 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:25:33 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:25:33 | INFO | Media column check response: []
2024-10-08 at 21:25:33 | ERROR | Media column not found in users table
2024-10-08 at 21:25:33 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:25:33 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:25:33 | INFO | Checking all schemas...
2024-10-08 at 21:25:33 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:25:33 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:25:33 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:25:33 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:25:33 | INFO | Media column check response: []
2024-10-08 at 21:25:33 | ERROR | Media column not found in users table
2024-10-08 at 21:25:33 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:25:33 | INFO | Schema check completed
2024-10-08 at 21:25:34 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:25:34 | INFO | Database setup completed
2024-10-08 at 21:25:34 | INFO | Database connection verified successfully
2024-10-08 at 21:25:34 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:25:34 | INFO | Starting database migrations...
2024-10-08 at 21:25:34 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:25:34 | INFO | Migration 0001 already applied
2024-10-08 at 21:25:34 | INFO | Migration 0002 already applied
2024-10-08 at 21:25:34 | INFO | Migration 0003 already applied
2024-10-08 at 21:25:34 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:25:34 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:25:34 | INFO | Media column check response: []
2024-10-08 at 21:25:34 | ERROR | Media column not found in users table
2024-10-08 at 21:25:34 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:25:34 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:25:34 | INFO | Checking all schemas...
2024-10-08 at 21:25:34 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:25:34 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:25:34 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:25:35 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:25:35 | INFO | Media column check response: []
2024-10-08 at 21:25:35 | ERROR | Media column not found in users table
2024-10-08 at 21:25:35 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:25:35 | INFO | Schema check completed
2024-10-08 at 21:25:35 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:25:35 | INFO | Database setup completed
2024-10-08 at 21:25:35 | INFO | Database setup completed successfully
2024-10-08 at 21:25:35 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:25:37 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:25:42 | INFO | Stopping the bot...
2024-10-08 at 21:25:42 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:25:42 | INFO | Bot stopped successfully.
2024-10-08 at 21:25:42 | INFO | Bot stopped by user.
2024-10-08 at 21:25:48 | INFO | Configuration loaded:
2024-10-08 at 21:25:48 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:25:48 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:25:48 | INFO | USERS_TABLE: users
2024-10-08 at 21:25:48 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:25:48 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:25:48 | INFO | Database connection verified successfully
2024-10-08 at 21:25:48 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:25:48 | INFO | Starting database migrations...
2024-10-08 at 21:25:48 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:25:48 | INFO | Migration 0001 already applied
2024-10-08 at 21:25:48 | INFO | Migration 0002 already applied
2024-10-08 at 21:25:48 | INFO | Migration 0003 already applied
2024-10-08 at 21:25:48 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:25:48 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:25:48 | INFO | Media column check response: []
2024-10-08 at 21:25:48 | ERROR | Media column not found in users table
2024-10-08 at 21:25:48 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:25:48 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:25:48 | INFO | Checking all schemas...
2024-10-08 at 21:25:48 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:25:48 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:25:49 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:25:49 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:25:49 | INFO | Media column check response: []
2024-10-08 at 21:25:49 | ERROR | Media column not found in users table
2024-10-08 at 21:25:49 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:25:49 | INFO | Schema check completed
2024-10-08 at 21:25:49 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:25:49 | INFO | Database setup completed
2024-10-08 at 21:25:49 | INFO | Database connection verified successfully
2024-10-08 at 21:25:49 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:25:49 | INFO | Starting database migrations...
2024-10-08 at 21:25:49 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:25:49 | INFO | Migration 0001 already applied
2024-10-08 at 21:25:49 | INFO | Migration 0002 already applied
2024-10-08 at 21:25:49 | INFO | Migration 0003 already applied
2024-10-08 at 21:25:49 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:25:50 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:25:50 | INFO | Media column check response: []
2024-10-08 at 21:25:50 | ERROR | Media column not found in users table
2024-10-08 at 21:25:50 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:25:50 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:25:50 | INFO | Checking all schemas...
2024-10-08 at 21:25:50 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:25:50 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:25:50 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:25:50 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:25:50 | INFO | Media column check response: []
2024-10-08 at 21:25:50 | ERROR | Media column not found in users table
2024-10-08 at 21:25:50 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:25:50 | INFO | Schema check completed
2024-10-08 at 21:25:50 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:25:50 | INFO | Database setup completed
2024-10-08 at 21:25:50 | INFO | Database setup completed successfully
2024-10-08 at 21:25:50 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:25:53 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:25:57 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 21:25:57 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:25:57 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[]'}] count=None
2024-10-08 at 21:25:57 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:25:57 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:25:57 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 21:25:57 | INFO | User profile is incomplete
2024-10-08 at 21:26:05 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:26:05 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[]'}] count=None
2024-10-08 at 21:26:05 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:26:07 | INFO | Bucket user-media already exists
2024-10-08 at 21:26:08 | ERROR | Error uploading file to bucket: Invalid URL: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397567.jpg
2024-10-08 at 21:26:09 | INFO | User theprofcrypto updated successfully
2024-10-08 at 21:26:10 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 21:28:01 | INFO | Stopping the bot...
2024-10-08 at 21:28:01 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:28:01 | INFO | Bot stopped successfully.
2024-10-08 at 21:28:01 | INFO | Bot stopped by user.
2024-10-08 at 21:28:48 | INFO | Configuration loaded:
2024-10-08 at 21:28:48 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:28:48 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:28:48 | INFO | USERS_TABLE: users
2024-10-08 at 21:28:48 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:28:48 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:28:48 | INFO | Database connection verified successfully
2024-10-08 at 21:28:48 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:28:48 | INFO | Starting database migrations...
2024-10-08 at 21:28:49 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:28:49 | INFO | Migration 0001 already applied
2024-10-08 at 21:28:49 | INFO | Migration 0002 already applied
2024-10-08 at 21:28:49 | INFO | Migration 0003 already applied
2024-10-08 at 21:28:49 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:28:49 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:28:49 | INFO | Media column check response: []
2024-10-08 at 21:28:49 | ERROR | Media column not found in users table
2024-10-08 at 21:28:49 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:28:49 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:28:49 | INFO | Checking all schemas...
2024-10-08 at 21:28:49 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:28:49 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:28:49 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:28:49 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:28:49 | INFO | Media column check response: []
2024-10-08 at 21:28:49 | ERROR | Media column not found in users table
2024-10-08 at 21:28:49 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:28:49 | INFO | Schema check completed
2024-10-08 at 21:28:50 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:28:50 | INFO | Database setup completed
2024-10-08 at 21:28:50 | INFO | Database connection verified successfully
2024-10-08 at 21:28:50 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:28:50 | INFO | Starting database migrations...
2024-10-08 at 21:28:50 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:28:50 | INFO | Migration 0001 already applied
2024-10-08 at 21:28:50 | INFO | Migration 0002 already applied
2024-10-08 at 21:28:50 | INFO | Migration 0003 already applied
2024-10-08 at 21:28:50 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:28:50 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:28:50 | INFO | Media column check response: []
2024-10-08 at 21:28:50 | ERROR | Media column not found in users table
2024-10-08 at 21:28:50 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:28:50 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:28:50 | INFO | Checking all schemas...
2024-10-08 at 21:28:50 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:28:50 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:28:50 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:28:51 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:28:51 | INFO | Media column check response: []
2024-10-08 at 21:28:51 | ERROR | Media column not found in users table
2024-10-08 at 21:28:51 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:28:51 | INFO | Schema check completed
2024-10-08 at 21:28:51 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:28:51 | INFO | Database setup completed
2024-10-08 at 21:28:51 | INFO | Database setup completed successfully
2024-10-08 at 21:28:51 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:28:53 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:29:03 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 21:29:03 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:29:04 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[]'}] count=None
2024-10-08 at 21:29:04 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:29:04 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:29:04 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 21:29:04 | INFO | User profile is incomplete
2024-10-08 at 21:29:12 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:29:12 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[]'}] count=None
2024-10-08 at 21:29:12 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:29:14 | INFO | Bucket user-media already exists
2024-10-08 at 21:29:16 | INFO | User theprofcrypto updated successfully
2024-10-08 at 21:29:17 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 21:29:17 | INFO | User theprofcrypto updated successfully
2024-10-08 at 21:29:18 | WARNING | Media not available for user theprofcrypto: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 21:29:19 | INFO | User theprofcrypto media: []
2024-10-08 at 21:30:56 | INFO | Stopping the bot...
2024-10-08 at 21:30:56 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:30:56 | INFO | Bot stopped successfully.
2024-10-08 at 21:30:56 | INFO | Bot stopped by user.
2024-10-08 at 21:32:12 | INFO | Configuration loaded:
2024-10-08 at 21:32:12 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:32:12 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:32:12 | INFO | USERS_TABLE: users
2024-10-08 at 21:32:12 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:32:12 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:32:13 | INFO | Database connection verified successfully
2024-10-08 at 21:32:13 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:32:13 | INFO | Starting database migrations...
2024-10-08 at 21:32:13 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:32:13 | INFO | Migration 0001 already applied
2024-10-08 at 21:32:13 | INFO | Migration 0002 already applied
2024-10-08 at 21:32:13 | INFO | Migration 0003 already applied
2024-10-08 at 21:32:13 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:32:13 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:32:13 | INFO | Media column check response: []
2024-10-08 at 21:32:13 | ERROR | Media column not found in users table
2024-10-08 at 21:32:13 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:32:13 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:32:13 | INFO | Checking all schemas...
2024-10-08 at 21:32:13 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:32:13 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:32:13 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:32:14 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:32:14 | INFO | Media column check response: []
2024-10-08 at 21:32:14 | ERROR | Media column not found in users table
2024-10-08 at 21:32:14 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:32:14 | INFO | Schema check completed
2024-10-08 at 21:32:14 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:32:14 | INFO | Database setup completed
2024-10-08 at 21:32:14 | INFO | Database connection verified successfully
2024-10-08 at 21:32:14 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:32:14 | INFO | Starting database migrations...
2024-10-08 at 21:32:14 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:32:14 | INFO | Migration 0001 already applied
2024-10-08 at 21:32:14 | INFO | Migration 0002 already applied
2024-10-08 at 21:32:14 | INFO | Migration 0003 already applied
2024-10-08 at 21:32:14 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:32:14 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:32:14 | INFO | Media column check response: []
2024-10-08 at 21:32:14 | ERROR | Media column not found in users table
2024-10-08 at 21:32:14 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:32:14 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:32:14 | INFO | Checking all schemas...
2024-10-08 at 21:32:15 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:32:15 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:32:15 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:32:15 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:32:15 | INFO | Media column check response: []
2024-10-08 at 21:32:15 | ERROR | Media column not found in users table
2024-10-08 at 21:32:15 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:32:15 | INFO | Schema check completed
2024-10-08 at 21:32:15 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:32:15 | INFO | Database setup completed
2024-10-08 at 21:32:15 | INFO | Database setup completed successfully
2024-10-08 at 21:32:15 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:32:17 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:32:30 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 21:32:30 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:32:30 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 21:32:31 | WARNING | Media not available for user theprofcrypto: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 21:32:31 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:32:31 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:32:31 | INFO | Profile completeness check for theprofcrypto: False
2024-10-08 at 21:32:31 | INFO | User profile is incomplete
2024-10-08 at 21:34:56 | INFO | Stopping the bot...
2024-10-08 at 21:34:56 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:34:56 | INFO | Bot stopped successfully.
2024-10-08 at 21:34:56 | INFO | Bot stopped by user.
2024-10-08 at 21:36:23 | INFO | Configuration loaded:
2024-10-08 at 21:36:23 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:36:23 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:36:23 | INFO | USERS_TABLE: users
2024-10-08 at 21:36:23 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:36:23 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:36:24 | INFO | Database connection verified successfully
2024-10-08 at 21:36:24 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:36:24 | INFO | Starting database migrations...
2024-10-08 at 21:36:24 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:36:24 | INFO | Migration 0001 already applied
2024-10-08 at 21:36:24 | INFO | Migration 0002 already applied
2024-10-08 at 21:36:24 | INFO | Migration 0003 already applied
2024-10-08 at 21:36:24 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:36:24 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:36:24 | INFO | Media column check response: []
2024-10-08 at 21:36:24 | ERROR | Media column not found in users table
2024-10-08 at 21:36:24 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:36:24 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:36:24 | INFO | Checking all schemas...
2024-10-08 at 21:36:24 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:36:24 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:36:24 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:36:25 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:36:25 | INFO | Media column check response: []
2024-10-08 at 21:36:25 | ERROR | Media column not found in users table
2024-10-08 at 21:36:25 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:36:25 | INFO | Schema check completed
2024-10-08 at 21:36:25 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:36:25 | INFO | Database setup completed
2024-10-08 at 21:36:25 | INFO | Database connection verified successfully
2024-10-08 at 21:36:25 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:36:25 | INFO | Starting database migrations...
2024-10-08 at 21:36:25 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:36:25 | INFO | Migration 0001 already applied
2024-10-08 at 21:36:25 | INFO | Migration 0002 already applied
2024-10-08 at 21:36:25 | INFO | Migration 0003 already applied
2024-10-08 at 21:36:25 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:36:25 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:36:26 | INFO | Media column check response: []
2024-10-08 at 21:36:26 | ERROR | Media column not found in users table
2024-10-08 at 21:36:26 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:36:26 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:36:26 | INFO | Checking all schemas...
2024-10-08 at 21:36:26 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:36:26 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:36:26 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:36:26 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:36:26 | INFO | Media column check response: []
2024-10-08 at 21:36:26 | ERROR | Media column not found in users table
2024-10-08 at 21:36:26 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:36:26 | INFO | Schema check completed
2024-10-08 at 21:36:26 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:36:26 | INFO | Database setup completed
2024-10-08 at 21:36:26 | INFO | Database setup completed successfully
2024-10-08 at 21:36:26 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:36:28 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:36:36 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 21:36:36 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:36:36 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 21:36:36 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:36:36 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:36:36 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 21:36:36 | INFO | User profile is complete with media
2024-10-08 at 21:36:36 | INFO | User theprofcrypto updated successfully
2024-10-08 at 21:36:37 | WARNING | Media not available for user theprofcrypto: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 21:36:39 | INFO | User theprofcrypto media: []
2024-10-08 at 21:36:44 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:36:44 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 21:36:44 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:37:47 | INFO | Stopping the bot...
2024-10-08 at 21:37:47 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:37:47 | INFO | Bot stopped successfully.
2024-10-08 at 21:37:47 | INFO | Bot stopped by user.
2024-10-08 at 21:40:11 | INFO | Configuration loaded:
2024-10-08 at 21:40:11 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:40:11 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:40:11 | INFO | USERS_TABLE: users
2024-10-08 at 21:40:11 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:40:11 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:40:12 | INFO | Database connection verified successfully
2024-10-08 at 21:40:12 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:40:12 | INFO | Starting database migrations...
2024-10-08 at 21:40:12 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:40:12 | INFO | Migration 0001 already applied
2024-10-08 at 21:40:12 | INFO | Migration 0002 already applied
2024-10-08 at 21:40:12 | INFO | Migration 0003 already applied
2024-10-08 at 21:40:12 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:40:12 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:40:12 | INFO | Media column check response: []
2024-10-08 at 21:40:12 | ERROR | Media column not found in users table
2024-10-08 at 21:40:12 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:40:12 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:40:12 | INFO | Checking all schemas...
2024-10-08 at 21:40:12 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:40:12 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:40:12 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:40:13 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:40:13 | INFO | Media column check response: []
2024-10-08 at 21:40:13 | ERROR | Media column not found in users table
2024-10-08 at 21:40:13 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:40:13 | INFO | Schema check completed
2024-10-08 at 21:40:13 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:40:13 | INFO | Database setup completed
2024-10-08 at 21:40:13 | INFO | Database connection verified successfully
2024-10-08 at 21:40:13 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:40:13 | INFO | Starting database migrations...
2024-10-08 at 21:40:13 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:40:13 | INFO | Migration 0001 already applied
2024-10-08 at 21:40:13 | INFO | Migration 0002 already applied
2024-10-08 at 21:40:13 | INFO | Migration 0003 already applied
2024-10-08 at 21:40:13 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:40:13 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:40:13 | INFO | Media column check response: []
2024-10-08 at 21:40:13 | ERROR | Media column not found in users table
2024-10-08 at 21:40:13 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:40:13 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:40:13 | INFO | Checking all schemas...
2024-10-08 at 21:40:13 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:40:13 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:40:13 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:40:14 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:40:14 | INFO | Media column check response: []
2024-10-08 at 21:40:14 | ERROR | Media column not found in users table
2024-10-08 at 21:40:14 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:40:14 | INFO | Schema check completed
2024-10-08 at 21:40:14 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:40:14 | INFO | Database setup completed
2024-10-08 at 21:40:14 | INFO | Database setup completed successfully
2024-10-08 at 21:40:14 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:40:16 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:40:25 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 21:40:25 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:40:26 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 21:40:26 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:40:26 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:40:26 | INFO | User profile has media
2024-10-08 at 21:40:26 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 21:40:26 | INFO | User profile is complete
2024-10-08 at 21:40:26 | INFO | User theprofcrypto updated successfully
2024-10-08 at 21:40:26 | WARNING | Media not available for user theprofcrypto: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 21:40:28 | INFO | User theprofcrypto media: []
2024-10-08 at 21:40:54 | INFO | Stopping the bot...
2024-10-08 at 21:40:54 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:40:54 | INFO | Bot stopped successfully.
2024-10-08 at 21:40:54 | INFO | Bot stopped by user.
2024-10-08 at 21:43:07 | INFO | Configuration loaded:
2024-10-08 at 21:43:07 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:43:07 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:43:07 | INFO | USERS_TABLE: users
2024-10-08 at 21:43:07 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:43:07 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:43:07 | INFO | Database connection verified successfully
2024-10-08 at 21:43:07 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:43:07 | INFO | Starting database migrations...
2024-10-08 at 21:43:08 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:43:08 | INFO | Migration 0001 already applied
2024-10-08 at 21:43:08 | INFO | Migration 0002 already applied
2024-10-08 at 21:43:08 | INFO | Migration 0003 already applied
2024-10-08 at 21:43:08 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:43:08 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:43:08 | INFO | Media column check response: []
2024-10-08 at 21:43:08 | ERROR | Media column not found in users table
2024-10-08 at 21:43:08 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:43:08 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:43:08 | INFO | Checking all schemas...
2024-10-08 at 21:43:08 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:43:08 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:43:08 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:43:08 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:43:08 | INFO | Media column check response: []
2024-10-08 at 21:43:08 | ERROR | Media column not found in users table
2024-10-08 at 21:43:08 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:43:08 | INFO | Schema check completed
2024-10-08 at 21:43:08 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:43:08 | INFO | Database setup completed
2024-10-08 at 21:43:09 | INFO | Database connection verified successfully
2024-10-08 at 21:43:09 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:43:09 | INFO | Starting database migrations...
2024-10-08 at 21:43:09 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:43:09 | INFO | Migration 0001 already applied
2024-10-08 at 21:43:09 | INFO | Migration 0002 already applied
2024-10-08 at 21:43:09 | INFO | Migration 0003 already applied
2024-10-08 at 21:43:09 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:43:09 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:43:09 | INFO | Media column check response: []
2024-10-08 at 21:43:09 | ERROR | Media column not found in users table
2024-10-08 at 21:43:09 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:43:09 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:43:09 | INFO | Checking all schemas...
2024-10-08 at 21:43:09 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:43:09 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:43:09 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:43:10 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:43:10 | INFO | Media column check response: []
2024-10-08 at 21:43:10 | ERROR | Media column not found in users table
2024-10-08 at 21:43:10 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:43:10 | INFO | Schema check completed
2024-10-08 at 21:43:10 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:43:10 | INFO | Database setup completed
2024-10-08 at 21:43:10 | INFO | Database setup completed successfully
2024-10-08 at 21:43:10 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:43:12 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:43:15 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 21:43:15 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:43:15 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 21:43:15 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:43:15 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:43:15 | INFO | User profile has media
2024-10-08 at 21:43:15 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 21:43:15 | INFO | User profile is complete
2024-10-08 at 21:43:15 | INFO | User theprofcrypto updated successfully
2024-10-08 at 21:43:15 | WARNING | Media not available for user theprofcrypto: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 21:43:17 | INFO | User theprofcrypto media: []
2024-10-08 at 21:43:43 | INFO | Stopping the bot...
2024-10-08 at 21:43:43 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:43:43 | INFO | Bot stopped successfully.
2024-10-08 at 21:43:43 | INFO | Bot stopped by user.
2024-10-08 at 21:45:14 | INFO | Configuration loaded:
2024-10-08 at 21:45:14 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:45:14 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:45:14 | INFO | USERS_TABLE: users
2024-10-08 at 21:45:14 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:45:14 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:45:14 | INFO | Database connection verified successfully
2024-10-08 at 21:45:14 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:45:14 | INFO | Starting database migrations...
2024-10-08 at 21:45:14 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:45:14 | INFO | Migration 0001 already applied
2024-10-08 at 21:45:14 | INFO | Migration 0002 already applied
2024-10-08 at 21:45:14 | INFO | Migration 0003 already applied
2024-10-08 at 21:45:14 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:45:14 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:45:15 | INFO | Media column check response: []
2024-10-08 at 21:45:15 | ERROR | Media column not found in users table
2024-10-08 at 21:45:15 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:45:15 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:45:15 | INFO | Checking all schemas...
2024-10-08 at 21:45:15 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:45:15 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:45:15 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:45:15 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:45:15 | INFO | Media column check response: []
2024-10-08 at 21:45:15 | ERROR | Media column not found in users table
2024-10-08 at 21:45:15 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:45:15 | INFO | Schema check completed
2024-10-08 at 21:45:15 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:45:15 | INFO | Database setup completed
2024-10-08 at 21:45:15 | INFO | Database connection verified successfully
2024-10-08 at 21:45:15 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:45:15 | INFO | Starting database migrations...
2024-10-08 at 21:45:16 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:45:16 | INFO | Migration 0001 already applied
2024-10-08 at 21:45:16 | INFO | Migration 0002 already applied
2024-10-08 at 21:45:16 | INFO | Migration 0003 already applied
2024-10-08 at 21:45:16 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:45:16 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:45:16 | INFO | Media column check response: []
2024-10-08 at 21:45:16 | ERROR | Media column not found in users table
2024-10-08 at 21:45:16 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:45:16 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:45:16 | INFO | Checking all schemas...
2024-10-08 at 21:45:16 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:45:16 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:45:16 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:45:16 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:45:16 | INFO | Media column check response: []
2024-10-08 at 21:45:16 | ERROR | Media column not found in users table
2024-10-08 at 21:45:16 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:45:16 | INFO | Schema check completed
2024-10-08 at 21:45:16 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:45:16 | INFO | Database setup completed
2024-10-08 at 21:45:16 | INFO | Database setup completed successfully
2024-10-08 at 21:45:16 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:45:18 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:45:22 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 21:45:22 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:45:22 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 21:45:22 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:45:22 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:45:22 | INFO | User profile has media
2024-10-08 at 21:45:22 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 21:45:22 | INFO | User profile is complete
2024-10-08 at 21:45:22 | INFO | User theprofcrypto updated successfully
2024-10-08 at 21:45:23 | WARNING | Media not available for user theprofcrypto: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 21:45:24 | INFO | User theprofcrypto media: []
2024-10-08 at 21:46:01 | INFO | Stopping the bot...
2024-10-08 at 21:46:01 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:46:01 | INFO | Bot stopped successfully.
2024-10-08 at 21:46:01 | INFO | Bot stopped by user.
2024-10-08 at 21:48:42 | INFO | Configuration loaded:
2024-10-08 at 21:48:42 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:48:42 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:48:42 | INFO | USERS_TABLE: users
2024-10-08 at 21:48:42 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:48:42 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:48:42 | INFO | Database connection verified successfully
2024-10-08 at 21:48:42 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:48:42 | INFO | Starting database migrations...
2024-10-08 at 21:48:43 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:48:43 | INFO | Migration 0001 already applied
2024-10-08 at 21:48:43 | INFO | Migration 0002 already applied
2024-10-08 at 21:48:43 | INFO | Migration 0003 already applied
2024-10-08 at 21:48:43 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:48:43 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:48:43 | INFO | Media column check response: []
2024-10-08 at 21:48:43 | ERROR | Media column not found in users table
2024-10-08 at 21:48:43 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:48:43 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:48:43 | INFO | Checking all schemas...
2024-10-08 at 21:48:43 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:48:43 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:48:43 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:48:43 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:48:43 | INFO | Media column check response: []
2024-10-08 at 21:48:43 | ERROR | Media column not found in users table
2024-10-08 at 21:48:43 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:48:43 | INFO | Schema check completed
2024-10-08 at 21:48:44 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:48:44 | INFO | Database setup completed
2024-10-08 at 21:48:44 | INFO | Database connection verified successfully
2024-10-08 at 21:48:44 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:48:44 | INFO | Starting database migrations...
2024-10-08 at 21:48:44 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:48:44 | INFO | Migration 0001 already applied
2024-10-08 at 21:48:44 | INFO | Migration 0002 already applied
2024-10-08 at 21:48:44 | INFO | Migration 0003 already applied
2024-10-08 at 21:48:44 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:48:44 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:48:44 | INFO | Media column check response: []
2024-10-08 at 21:48:44 | ERROR | Media column not found in users table
2024-10-08 at 21:48:44 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:48:44 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:48:44 | INFO | Checking all schemas...
2024-10-08 at 21:48:44 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:48:44 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:48:44 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:48:45 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:48:45 | INFO | Media column check response: []
2024-10-08 at 21:48:45 | ERROR | Media column not found in users table
2024-10-08 at 21:48:45 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:48:45 | INFO | Schema check completed
2024-10-08 at 21:48:45 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:48:45 | INFO | Database setup completed
2024-10-08 at 21:48:45 | INFO | Database setup completed successfully
2024-10-08 at 21:48:45 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:48:47 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:48:53 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 21:48:53 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:48:53 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 21:48:53 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:48:53 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00')
2024-10-08 at 21:48:53 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 21:48:53 | WARNING | Media not available for user theprofcrypto: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 21:48:55 | INFO | User theprofcrypto media: []
2024-10-08 at 21:49:19 | INFO | Stopping the bot...
2024-10-08 at 21:49:19 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:49:19 | INFO | Bot stopped successfully.
2024-10-08 at 21:49:19 | INFO | Bot stopped by user.
2024-10-08 at 21:52:35 | INFO | Configuration loaded:
2024-10-08 at 21:52:35 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:52:35 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:52:35 | INFO | USERS_TABLE: users
2024-10-08 at 21:52:35 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:52:35 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:52:36 | INFO | Database connection verified successfully
2024-10-08 at 21:52:36 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:52:36 | INFO | Starting database migrations...
2024-10-08 at 21:52:36 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:52:36 | INFO | Migration 0001 already applied
2024-10-08 at 21:52:36 | INFO | Migration 0002 already applied
2024-10-08 at 21:52:36 | INFO | Migration 0003 already applied
2024-10-08 at 21:52:36 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:52:36 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:52:36 | INFO | Media column check response: []
2024-10-08 at 21:52:36 | ERROR | Media column not found in users table
2024-10-08 at 21:52:36 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:52:36 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:52:36 | INFO | Checking all schemas...
2024-10-08 at 21:52:36 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:52:36 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:52:36 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:52:37 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:52:37 | INFO | Media column check response: []
2024-10-08 at 21:52:37 | ERROR | Media column not found in users table
2024-10-08 at 21:52:37 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:52:37 | INFO | Schema check completed
2024-10-08 at 21:52:37 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:52:37 | INFO | Database setup completed
2024-10-08 at 21:52:37 | INFO | Database connection verified successfully
2024-10-08 at 21:52:37 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:52:37 | INFO | Starting database migrations...
2024-10-08 at 21:52:37 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:52:37 | INFO | Migration 0001 already applied
2024-10-08 at 21:52:37 | INFO | Migration 0002 already applied
2024-10-08 at 21:52:37 | INFO | Migration 0003 already applied
2024-10-08 at 21:52:37 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:52:37 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:52:37 | INFO | Media column check response: []
2024-10-08 at 21:52:37 | ERROR | Media column not found in users table
2024-10-08 at 21:52:37 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:52:37 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:52:37 | INFO | Checking all schemas...
2024-10-08 at 21:52:37 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:52:37 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:52:37 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:52:38 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:52:38 | INFO | Media column check response: []
2024-10-08 at 21:52:38 | ERROR | Media column not found in users table
2024-10-08 at 21:52:38 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:52:38 | INFO | Schema check completed
2024-10-08 at 21:52:38 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:52:38 | INFO | Database setup completed
2024-10-08 at 21:52:38 | INFO | Database setup completed successfully
2024-10-08 at 21:52:38 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:52:40 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:52:43 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 21:52:43 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:52:43 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 21:52:43 | ERROR | Error in get_or_create_user: User.__init__() got an unexpected keyword argument 'photos'
2024-10-08 at 21:52:43 | ERROR | Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 396, in get_or_create_user
    user = User(**user_data)
           ^^^^^^^^^^^^^^^^^
TypeError: User.__init__() got an unexpected keyword argument 'photos'

2024-10-08 at 21:52:43 | ERROR | Error in start command: User.__init__() got an unexpected keyword argument 'photos'
2024-10-08 at 21:52:43 | ERROR | Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py", line 64, in start
    user = await get_or_create_user(update.effective_user.username)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/database/db_operations.py", line 396, in get_or_create_user
    user = User(**user_data)
           ^^^^^^^^^^^^^^^^^
TypeError: User.__init__() got an unexpected keyword argument 'photos'

2024-10-08 at 21:52:57 | INFO | Stopping the bot...
2024-10-08 at 21:52:57 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:52:57 | INFO | Bot stopped successfully.
2024-10-08 at 21:52:57 | INFO | Bot stopped by user.
2024-10-08 at 21:55:25 | INFO | Configuration loaded:
2024-10-08 at 21:55:25 | INFO | LOG_LEVEL: INFO
2024-10-08 at 21:55:25 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 21:55:25 | INFO | USERS_TABLE: users
2024-10-08 at 21:55:25 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 21:55:25 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 21:55:25 | INFO | Database connection verified successfully
2024-10-08 at 21:55:25 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:55:25 | INFO | Starting database migrations...
2024-10-08 at 21:55:26 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:55:26 | INFO | Migration 0001 already applied
2024-10-08 at 21:55:26 | INFO | Migration 0002 already applied
2024-10-08 at 21:55:26 | INFO | Migration 0003 already applied
2024-10-08 at 21:55:26 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:55:26 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:55:26 | INFO | Media column check response: []
2024-10-08 at 21:55:26 | ERROR | Media column not found in users table
2024-10-08 at 21:55:26 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:55:26 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:55:26 | INFO | Checking all schemas...
2024-10-08 at 21:55:26 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:55:26 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:55:26 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:55:26 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:55:26 | INFO | Media column check response: []
2024-10-08 at 21:55:26 | ERROR | Media column not found in users table
2024-10-08 at 21:55:26 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:55:26 | INFO | Schema check completed
2024-10-08 at 21:55:26 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:55:26 | INFO | Database setup completed
2024-10-08 at 21:55:26 | INFO | Database connection verified successfully
2024-10-08 at 21:55:26 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 21:55:26 | INFO | Starting database migrations...
2024-10-08 at 21:55:27 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:55:27 | INFO | Migration 0001 already applied
2024-10-08 at 21:55:27 | INFO | Migration 0002 already applied
2024-10-08 at 21:55:27 | INFO | Migration 0003 already applied
2024-10-08 at 21:55:27 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 21:55:27 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:55:27 | INFO | Media column check response: []
2024-10-08 at 21:55:27 | ERROR | Media column not found in users table
2024-10-08 at 21:55:27 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:55:27 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 21:55:27 | INFO | Checking all schemas...
2024-10-08 at 21:55:27 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 21:55:27 | ERROR | Schema check failed for migration 0001
2024-10-08 at 21:55:27 | ERROR | Schema check failed for migration 0002
2024-10-08 at 21:55:27 | INFO | Schema check passed for migration 0003
2024-10-08 at 21:55:27 | INFO | Media column check response: []
2024-10-08 at 21:55:27 | ERROR | Media column not found in users table
2024-10-08 at 21:55:27 | ERROR | Schema check failed for migration 0004
2024-10-08 at 21:55:27 | INFO | Schema check completed
2024-10-08 at 21:55:27 | INFO | Ensured media column exists in users table.
2024-10-08 at 21:55:27 | INFO | Database setup completed
2024-10-08 at 21:55:27 | INFO | Database setup completed successfully
2024-10-08 at 21:55:27 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 21:55:29 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 21:55:34 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 21:55:34 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 21:55:34 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 21:55:34 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 21:55:34 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 21:55:37 | ERROR | Error sending media: Failed to get http url content
2024-10-08 at 21:55:37 | ERROR | Media group: [InputMediaPhoto(media='https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg', type=<InputMediaType.PHOTO>)]
2024-10-08 at 21:55:38 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 21:56:14 | INFO | Stopping the bot...
2024-10-08 at 21:56:14 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 21:56:14 | INFO | Bot stopped successfully.
2024-10-08 at 21:56:14 | INFO | Bot stopped by user.
2024-10-08 at 22:07:45 | INFO | Configuration loaded:
2024-10-08 at 22:07:45 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:07:45 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:07:45 | INFO | USERS_TABLE: users
2024-10-08 at 22:07:45 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:07:45 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:07:45 | INFO | Database connection verified successfully
2024-10-08 at 22:07:45 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:07:45 | INFO | Starting database migrations...
2024-10-08 at 22:07:46 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:07:46 | INFO | Migration 0001 already applied
2024-10-08 at 22:07:46 | INFO | Migration 0002 already applied
2024-10-08 at 22:07:46 | INFO | Migration 0003 already applied
2024-10-08 at 22:07:46 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:07:46 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:07:46 | INFO | Media column check response: []
2024-10-08 at 22:07:46 | ERROR | Media column not found in users table
2024-10-08 at 22:07:46 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:07:46 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:07:46 | INFO | Checking all schemas...
2024-10-08 at 22:07:46 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:07:46 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:07:46 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:07:46 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:07:46 | INFO | Media column check response: []
2024-10-08 at 22:07:46 | ERROR | Media column not found in users table
2024-10-08 at 22:07:46 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:07:46 | INFO | Schema check completed
2024-10-08 at 22:07:47 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:07:47 | INFO | Database setup completed
2024-10-08 at 22:07:47 | INFO | Database connection verified successfully
2024-10-08 at 22:07:47 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:07:47 | INFO | Starting database migrations...
2024-10-08 at 22:07:47 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:07:47 | INFO | Migration 0001 already applied
2024-10-08 at 22:07:47 | INFO | Migration 0002 already applied
2024-10-08 at 22:07:47 | INFO | Migration 0003 already applied
2024-10-08 at 22:07:47 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:07:47 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:07:47 | INFO | Media column check response: []
2024-10-08 at 22:07:47 | ERROR | Media column not found in users table
2024-10-08 at 22:07:47 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:07:47 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:07:47 | INFO | Checking all schemas...
2024-10-08 at 22:07:47 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:07:47 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:07:47 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:07:48 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:07:48 | INFO | Media column check response: []
2024-10-08 at 22:07:48 | ERROR | Media column not found in users table
2024-10-08 at 22:07:48 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:07:48 | INFO | Schema check completed
2024-10-08 at 22:07:48 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:07:48 | INFO | Database setup completed
2024-10-08 at 22:07:48 | INFO | Database setup completed successfully
2024-10-08 at 22:07:48 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 22:07:50 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 22:07:53 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 22:07:53 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:07:53 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:07:53 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:07:53 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:07:53 | ERROR | Error sending media: Wrong file identifier/http url specified
2024-10-08 at 22:07:53 | ERROR | Media group: [InputMediaPhoto(media='https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg', type=<InputMediaType.PHOTO>)]
2024-10-08 at 22:07:55 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:08:49 | INFO | Stopping the bot...
2024-10-08 at 22:08:49 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 22:08:49 | INFO | Bot stopped successfully.
2024-10-08 at 22:08:49 | INFO | Bot stopped by user.
2024-10-08 at 22:14:04 | INFO | Configuration loaded:
2024-10-08 at 22:14:04 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:14:04 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:14:04 | INFO | USERS_TABLE: users
2024-10-08 at 22:14:04 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:14:04 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:14:04 | INFO | Database connection verified successfully
2024-10-08 at 22:14:04 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:14:04 | INFO | Starting database migrations...
2024-10-08 at 22:14:04 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:14:04 | INFO | Migration 0001 already applied
2024-10-08 at 22:14:04 | INFO | Migration 0002 already applied
2024-10-08 at 22:14:04 | INFO | Migration 0003 already applied
2024-10-08 at 22:14:04 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:14:04 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:14:04 | INFO | Media column check response: []
2024-10-08 at 22:14:04 | ERROR | Media column not found in users table
2024-10-08 at 22:14:04 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:14:04 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:14:04 | INFO | Checking all schemas...
2024-10-08 at 22:14:05 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:14:05 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:14:05 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:14:05 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:14:05 | INFO | Media column check response: []
2024-10-08 at 22:14:05 | ERROR | Media column not found in users table
2024-10-08 at 22:14:05 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:14:05 | INFO | Schema check completed
2024-10-08 at 22:14:05 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:14:05 | INFO | Database setup completed
2024-10-08 at 22:14:05 | INFO | Database connection verified successfully
2024-10-08 at 22:14:05 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:14:05 | INFO | Starting database migrations...
2024-10-08 at 22:14:05 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:14:05 | INFO | Migration 0001 already applied
2024-10-08 at 22:14:05 | INFO | Migration 0002 already applied
2024-10-08 at 22:14:05 | INFO | Migration 0003 already applied
2024-10-08 at 22:14:05 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:14:06 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:14:06 | INFO | Media column check response: []
2024-10-08 at 22:14:06 | ERROR | Media column not found in users table
2024-10-08 at 22:14:06 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:14:06 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:14:06 | INFO | Checking all schemas...
2024-10-08 at 22:14:06 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:14:06 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:14:06 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:14:06 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:14:06 | INFO | Media column check response: []
2024-10-08 at 22:14:06 | ERROR | Media column not found in users table
2024-10-08 at 22:14:06 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:14:06 | INFO | Schema check completed
2024-10-08 at 22:14:06 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:14:06 | INFO | Database setup completed
2024-10-08 at 22:14:06 | INFO | Database setup completed successfully
2024-10-08 at 22:14:06 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 22:14:08 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 22:14:12 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 22:14:12 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:14:12 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:14:12 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:14:12 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:14:12 | ERROR | Error in start command: show_profile() takes 2 positional arguments but 3 were given
2024-10-08 at 22:14:12 | ERROR | Traceback (most recent call last):
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py", line 72, in start
    await greet_existing_user(update, context, user)
  File "/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py", line 176, in greet_existing_user
    await show_profile(update, context, user)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: show_profile() takes 2 positional arguments but 3 were given

2024-10-08 at 22:14:38 | INFO | Stopping the bot...
2024-10-08 at 22:14:38 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 22:14:38 | INFO | Bot stopped successfully.
2024-10-08 at 22:14:38 | INFO | Bot stopped by user.
2024-10-08 at 22:15:36 | INFO | Configuration loaded:
2024-10-08 at 22:15:36 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:15:36 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:15:36 | INFO | USERS_TABLE: users
2024-10-08 at 22:15:36 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:15:36 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:15:36 | INFO | Database connection verified successfully
2024-10-08 at 22:15:36 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:15:36 | INFO | Starting database migrations...
2024-10-08 at 22:15:36 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:15:36 | INFO | Migration 0001 already applied
2024-10-08 at 22:15:36 | INFO | Migration 0002 already applied
2024-10-08 at 22:15:36 | INFO | Migration 0003 already applied
2024-10-08 at 22:15:36 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:15:36 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:15:36 | INFO | Media column check response: []
2024-10-08 at 22:15:36 | ERROR | Media column not found in users table
2024-10-08 at 22:15:36 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:15:36 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:15:36 | INFO | Checking all schemas...
2024-10-08 at 22:15:36 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:15:36 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:15:36 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:15:37 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:15:37 | INFO | Media column check response: []
2024-10-08 at 22:15:37 | ERROR | Media column not found in users table
2024-10-08 at 22:15:37 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:15:37 | INFO | Schema check completed
2024-10-08 at 22:15:37 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:15:37 | INFO | Database setup completed
2024-10-08 at 22:15:37 | INFO | Database connection verified successfully
2024-10-08 at 22:15:37 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:15:37 | INFO | Starting database migrations...
2024-10-08 at 22:15:37 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:15:37 | INFO | Migration 0001 already applied
2024-10-08 at 22:15:37 | INFO | Migration 0002 already applied
2024-10-08 at 22:15:37 | INFO | Migration 0003 already applied
2024-10-08 at 22:15:37 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:15:37 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:15:37 | INFO | Media column check response: []
2024-10-08 at 22:15:37 | ERROR | Media column not found in users table
2024-10-08 at 22:15:37 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:15:37 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:15:37 | INFO | Checking all schemas...
2024-10-08 at 22:15:37 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:15:37 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:15:38 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:15:38 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:15:38 | INFO | Media column check response: []
2024-10-08 at 22:15:38 | ERROR | Media column not found in users table
2024-10-08 at 22:15:38 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:15:38 | INFO | Schema check completed
2024-10-08 at 22:15:38 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:15:38 | INFO | Database setup completed
2024-10-08 at 22:15:38 | INFO | Database setup completed successfully
2024-10-08 at 22:15:38 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 22:15:40 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 22:15:42 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 22:15:42 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:15:42 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:15:42 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:15:42 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:15:42 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 22:15:43 | ERROR | Error sending media: Wrong file identifier/http url specified
2024-10-08 at 22:15:43 | ERROR | Media group: [InputMediaPhoto(media='https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg', type=<InputMediaType.PHOTO>)]
2024-10-08 at 22:15:44 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:16:09 | INFO | Stopping the bot...
2024-10-08 at 22:16:09 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 22:16:09 | INFO | Bot stopped successfully.
2024-10-08 at 22:16:09 | INFO | Bot stopped by user.
2024-10-08 at 22:17:25 | INFO | Configuration loaded:
2024-10-08 at 22:17:25 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:17:25 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:17:25 | INFO | USERS_TABLE: users
2024-10-08 at 22:17:25 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:17:25 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:18:21 | INFO | Configuration loaded:
2024-10-08 at 22:18:21 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:18:21 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:18:21 | INFO | USERS_TABLE: users
2024-10-08 at 22:18:21 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:18:21 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:19:11 | INFO | Configuration loaded:
2024-10-08 at 22:19:11 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:19:11 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:19:11 | INFO | USERS_TABLE: users
2024-10-08 at 22:19:11 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:19:11 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:19:11 | INFO | Database connection verified successfully
2024-10-08 at 22:19:11 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:19:11 | INFO | Starting database migrations...
2024-10-08 at 22:19:11 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:19:11 | INFO | Migration 0001 already applied
2024-10-08 at 22:19:11 | INFO | Migration 0002 already applied
2024-10-08 at 22:19:11 | INFO | Migration 0003 already applied
2024-10-08 at 22:19:11 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:19:11 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:19:12 | INFO | Media column check response: []
2024-10-08 at 22:19:12 | ERROR | Media column not found in users table
2024-10-08 at 22:19:12 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:19:12 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:19:12 | INFO | Checking all schemas...
2024-10-08 at 22:19:12 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:19:12 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:19:12 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:19:12 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:19:12 | INFO | Media column check response: []
2024-10-08 at 22:19:12 | ERROR | Media column not found in users table
2024-10-08 at 22:19:12 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:19:12 | INFO | Schema check completed
2024-10-08 at 22:19:12 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:19:12 | INFO | Database setup completed
2024-10-08 at 22:19:12 | INFO | Database connection verified successfully
2024-10-08 at 22:19:12 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:19:12 | INFO | Starting database migrations...
2024-10-08 at 22:19:13 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:19:13 | INFO | Migration 0001 already applied
2024-10-08 at 22:19:13 | INFO | Migration 0002 already applied
2024-10-08 at 22:19:13 | INFO | Migration 0003 already applied
2024-10-08 at 22:19:13 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:19:13 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:19:13 | INFO | Media column check response: []
2024-10-08 at 22:19:13 | ERROR | Media column not found in users table
2024-10-08 at 22:19:13 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:19:13 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:19:13 | INFO | Checking all schemas...
2024-10-08 at 22:19:13 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:19:13 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:19:13 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:19:13 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:19:13 | INFO | Media column check response: []
2024-10-08 at 22:19:13 | ERROR | Media column not found in users table
2024-10-08 at 22:19:13 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:19:13 | INFO | Schema check completed
2024-10-08 at 22:19:13 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:19:13 | INFO | Database setup completed
2024-10-08 at 22:19:13 | INFO | Database setup completed successfully
2024-10-08 at 22:19:13 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 22:19:15 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 22:19:22 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 22:19:22 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:19:22 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:19:22 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:19:22 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:19:22 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 22:19:23 | ERROR | Error sending media item: {'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}. Error: Wrong file identifier/http url specified
2024-10-08 at 22:19:24 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:19:54 | INFO | Stopping the bot...
2024-10-08 at 22:19:54 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 22:19:54 | INFO | Bot stopped successfully.
2024-10-08 at 22:19:54 | INFO | Bot stopped by user.
2024-10-08 at 22:21:01 | INFO | Configuration loaded:
2024-10-08 at 22:21:01 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:21:01 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:21:01 | INFO | USERS_TABLE: users
2024-10-08 at 22:21:01 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:21:01 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:21:01 | INFO | Database connection verified successfully
2024-10-08 at 22:21:01 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:21:01 | INFO | Starting database migrations...
2024-10-08 at 22:21:01 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:21:01 | INFO | Migration 0001 already applied
2024-10-08 at 22:21:01 | INFO | Migration 0002 already applied
2024-10-08 at 22:21:01 | INFO | Migration 0003 already applied
2024-10-08 at 22:21:01 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:21:01 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:21:01 | INFO | Media column check response: []
2024-10-08 at 22:21:01 | ERROR | Media column not found in users table
2024-10-08 at 22:21:01 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:21:01 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:21:01 | INFO | Checking all schemas...
2024-10-08 at 22:21:01 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:21:01 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:21:01 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:21:02 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:21:02 | INFO | Media column check response: []
2024-10-08 at 22:21:02 | ERROR | Media column not found in users table
2024-10-08 at 22:21:02 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:21:02 | INFO | Schema check completed
2024-10-08 at 22:21:02 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:21:02 | INFO | Database setup completed
2024-10-08 at 22:21:02 | INFO | Database connection verified successfully
2024-10-08 at 22:21:02 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:21:02 | INFO | Starting database migrations...
2024-10-08 at 22:21:02 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:21:02 | INFO | Migration 0001 already applied
2024-10-08 at 22:21:02 | INFO | Migration 0002 already applied
2024-10-08 at 22:21:02 | INFO | Migration 0003 already applied
2024-10-08 at 22:21:02 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:21:02 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:21:02 | INFO | Media column check response: []
2024-10-08 at 22:21:02 | ERROR | Media column not found in users table
2024-10-08 at 22:21:02 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:21:02 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:21:02 | INFO | Checking all schemas...
2024-10-08 at 22:21:03 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:21:03 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:21:03 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:21:03 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:21:03 | INFO | Media column check response: []
2024-10-08 at 22:21:03 | ERROR | Media column not found in users table
2024-10-08 at 22:21:03 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:21:03 | INFO | Schema check completed
2024-10-08 at 22:21:03 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:21:03 | INFO | Database setup completed
2024-10-08 at 22:21:03 | INFO | Database setup completed successfully
2024-10-08 at 22:21:03 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 22:21:05 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 22:21:08 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 22:21:08 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:21:08 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:21:08 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:21:08 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:21:08 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 22:21:09 | ERROR | Failed to fetch photo: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:21:10 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:21:24 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:21:24 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:21:24 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:21:44 | INFO | Stopping the bot...
2024-10-08 at 22:21:44 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 22:21:44 | INFO | Bot stopped successfully.
2024-10-08 at 22:21:44 | INFO | Bot stopped by user.
2024-10-08 at 22:23:30 | INFO | Configuration loaded:
2024-10-08 at 22:23:30 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:23:30 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:23:30 | INFO | USERS_TABLE: users
2024-10-08 at 22:23:30 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:23:30 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:23:31 | INFO | Database connection verified successfully
2024-10-08 at 22:23:31 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:23:31 | INFO | Starting database migrations...
2024-10-08 at 22:23:31 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:23:31 | INFO | Migration 0001 already applied
2024-10-08 at 22:23:31 | INFO | Migration 0002 already applied
2024-10-08 at 22:23:31 | INFO | Migration 0003 already applied
2024-10-08 at 22:23:31 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:23:31 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:23:31 | INFO | Media column check response: []
2024-10-08 at 22:23:31 | ERROR | Media column not found in users table
2024-10-08 at 22:23:31 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:23:31 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:23:31 | INFO | Checking all schemas...
2024-10-08 at 22:23:31 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:23:31 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:23:31 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:23:32 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:23:32 | INFO | Media column check response: []
2024-10-08 at 22:23:32 | ERROR | Media column not found in users table
2024-10-08 at 22:23:32 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:23:32 | INFO | Schema check completed
2024-10-08 at 22:23:32 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:23:32 | INFO | Database setup completed
2024-10-08 at 22:23:32 | INFO | Database connection verified successfully
2024-10-08 at 22:23:32 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:23:32 | INFO | Starting database migrations...
2024-10-08 at 22:23:32 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:23:32 | INFO | Migration 0001 already applied
2024-10-08 at 22:23:32 | INFO | Migration 0002 already applied
2024-10-08 at 22:23:32 | INFO | Migration 0003 already applied
2024-10-08 at 22:23:32 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:23:32 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:23:32 | INFO | Media column check response: []
2024-10-08 at 22:23:32 | ERROR | Media column not found in users table
2024-10-08 at 22:23:32 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:23:32 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:23:32 | INFO | Checking all schemas...
2024-10-08 at 22:23:32 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:23:32 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:23:32 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:23:33 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:23:33 | INFO | Media column check response: []
2024-10-08 at 22:23:33 | ERROR | Media column not found in users table
2024-10-08 at 22:23:33 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:23:33 | INFO | Schema check completed
2024-10-08 at 22:23:33 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:23:33 | INFO | Database setup completed
2024-10-08 at 22:23:33 | INFO | Database setup completed successfully
2024-10-08 at 22:23:33 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 22:23:35 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 22:23:38 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 22:23:38 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:23:38 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:23:38 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:23:38 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:23:38 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 22:23:39 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:23:40 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:23:42 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:23:43 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:23:43 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:24:54 | INFO | Stopping the bot...
2024-10-08 at 22:24:54 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 22:24:54 | INFO | Bot stopped successfully.
2024-10-08 at 22:24:54 | INFO | Bot stopped by user.
2024-10-08 at 22:26:56 | INFO | Configuration loaded:
2024-10-08 at 22:26:56 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:26:56 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:26:56 | INFO | USERS_TABLE: users
2024-10-08 at 22:26:56 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:26:56 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:26:56 | INFO | Database connection verified successfully
2024-10-08 at 22:26:56 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:26:56 | INFO | Starting database migrations...
2024-10-08 at 22:26:57 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:26:57 | INFO | Migration 0001 already applied
2024-10-08 at 22:26:57 | INFO | Migration 0002 already applied
2024-10-08 at 22:26:57 | INFO | Migration 0003 already applied
2024-10-08 at 22:26:57 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:26:57 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:26:57 | INFO | Media column check response: []
2024-10-08 at 22:26:57 | ERROR | Media column not found in users table
2024-10-08 at 22:26:57 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:26:57 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:26:57 | INFO | Checking all schemas...
2024-10-08 at 22:26:57 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:26:57 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:26:57 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:26:57 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:26:57 | INFO | Media column check response: []
2024-10-08 at 22:26:57 | ERROR | Media column not found in users table
2024-10-08 at 22:26:57 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:26:57 | INFO | Schema check completed
2024-10-08 at 22:26:57 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:26:57 | INFO | Database setup completed
2024-10-08 at 22:26:57 | INFO | Database connection verified successfully
2024-10-08 at 22:26:57 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:26:57 | INFO | Starting database migrations...
2024-10-08 at 22:26:58 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:26:58 | INFO | Migration 0001 already applied
2024-10-08 at 22:26:58 | INFO | Migration 0002 already applied
2024-10-08 at 22:26:58 | INFO | Migration 0003 already applied
2024-10-08 at 22:26:58 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:26:58 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:26:58 | INFO | Media column check response: []
2024-10-08 at 22:26:58 | ERROR | Media column not found in users table
2024-10-08 at 22:26:58 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:26:58 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:26:58 | INFO | Checking all schemas...
2024-10-08 at 22:26:58 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:26:58 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:26:58 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:26:58 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:26:58 | INFO | Media column check response: []
2024-10-08 at 22:26:58 | ERROR | Media column not found in users table
2024-10-08 at 22:26:58 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:26:58 | INFO | Schema check completed
2024-10-08 at 22:26:58 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:26:58 | INFO | Database setup completed
2024-10-08 at 22:26:58 | INFO | Database setup completed successfully
2024-10-08 at 22:26:58 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 22:27:01 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 22:27:05 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 22:27:05 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:27:05 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:27:05 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:27:05 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:27:05 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 22:27:06 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:27:07 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:27:09 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:27:09 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:27:09 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:27:38 | INFO | Stopping the bot...
2024-10-08 at 22:27:38 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 22:27:38 | INFO | Bot stopped successfully.
2024-10-08 at 22:27:38 | INFO | Bot stopped by user.
2024-10-08 at 22:29:11 | INFO | Configuration loaded:
2024-10-08 at 22:29:11 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:29:11 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:29:11 | INFO | USERS_TABLE: users
2024-10-08 at 22:29:11 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:29:11 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:29:11 | INFO | Database connection verified successfully
2024-10-08 at 22:29:11 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:29:11 | INFO | Starting database migrations...
2024-10-08 at 22:29:11 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:29:11 | INFO | Migration 0001 already applied
2024-10-08 at 22:29:11 | INFO | Migration 0002 already applied
2024-10-08 at 22:29:11 | INFO | Migration 0003 already applied
2024-10-08 at 22:29:11 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:29:11 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:29:11 | INFO | Media column check response: []
2024-10-08 at 22:29:11 | ERROR | Media column not found in users table
2024-10-08 at 22:29:11 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:29:11 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:29:11 | INFO | Checking all schemas...
2024-10-08 at 22:29:11 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:29:11 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:29:12 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:29:12 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:29:12 | INFO | Media column check response: []
2024-10-08 at 22:29:12 | ERROR | Media column not found in users table
2024-10-08 at 22:29:12 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:29:12 | INFO | Schema check completed
2024-10-08 at 22:29:12 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:29:12 | INFO | Database setup completed
2024-10-08 at 22:29:12 | INFO | Database connection verified successfully
2024-10-08 at 22:29:12 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:29:12 | INFO | Starting database migrations...
2024-10-08 at 22:29:12 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:29:12 | INFO | Migration 0001 already applied
2024-10-08 at 22:29:12 | INFO | Migration 0002 already applied
2024-10-08 at 22:29:12 | INFO | Migration 0003 already applied
2024-10-08 at 22:29:12 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:29:13 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:29:13 | INFO | Media column check response: []
2024-10-08 at 22:29:13 | ERROR | Media column not found in users table
2024-10-08 at 22:29:13 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:29:13 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:29:13 | INFO | Checking all schemas...
2024-10-08 at 22:29:13 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:29:13 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:29:13 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:29:13 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:29:13 | INFO | Media column check response: []
2024-10-08 at 22:29:13 | ERROR | Media column not found in users table
2024-10-08 at 22:29:13 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:29:13 | INFO | Schema check completed
2024-10-08 at 22:29:13 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:29:13 | INFO | Database setup completed
2024-10-08 at 22:29:13 | INFO | Database setup completed successfully
2024-10-08 at 22:29:13 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 22:29:15 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 22:29:20 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 22:29:20 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:29:20 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:29:20 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:29:20 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:29:20 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 22:29:21 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:29:22 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:29:25 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:29:25 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:29:25 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:29:29 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:29:29 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:29:29 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:29:34 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 22:29:34 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:29:34 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:29:34 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:29:34 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:29:34 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 22:29:34 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:29:35 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:29:36 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:29:36 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:29:36 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:29:40 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:29:40 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:29:40 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:29:44 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:29:44 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:29:44 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:29:45 | INFO | User theprofcrypto updated successfully
2024-10-08 at 22:29:46 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:29:46 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:29:50 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:29:50 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:29:50 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:30:26 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:30:26 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:30:26 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:30:32 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:30:32 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:30:32 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:30:32 | INFO | User theprofcrypto updated successfully
2024-10-08 at 22:30:33 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:30:33 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:30:33 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:30:38 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:30:38 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:30:38 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:30:43 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:30:43 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:30:43 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:30:43 | INFO | User theprofcrypto updated successfully
2024-10-08 at 22:30:44 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:30:44 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:30:44 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:30:48 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:30:48 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:30:48 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:30:54 | INFO | User theprofcrypto updated successfully
2024-10-08 at 22:30:57 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:30:58 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:31:13 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:31:13 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:31:13 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:31:21 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:31:21 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:31:21 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:31:26 | INFO | User theprofcrypto updated successfully
2024-10-08 at 22:31:27 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:31:27 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:31:29 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:31:29 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:31:29 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:31:39 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:31:39 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:31:39 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:31:48 | ERROR | Exception while handling an update:
2024-10-08 at 22:31:49 | ERROR | An exception was raised while handling an update
<pre>update = {
  &quot;message&quot;: {
    &quot;channel_chat_created&quot;: false,
    &quot;delete_chat_photo&quot;: false,
    &quot;group_chat_created&quot;: false,
    &quot;photo&quot;: [
      {
        &quot;height&quot;: 90,
        &quot;width&quot;: 67,
        &quot;file_id&quot;: &quot;AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADcwADNgQ&quot;,
        &quot;file_size&quot;: 334,
        &quot;file_unique_id&quot;: &quot;AQADar8xG2-rMVR4&quot;
      },
      {
        &quot;height&quot;: 320,
        &quot;width&quot;: 240,
        &quot;file_id&quot;: &quot;AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADbQADNgQ&quot;,
        &quot;file_size&quot;: 1249,
        &quot;file_unique_id&quot;: &quot;AQADar8xG2-rMVRy&quot;
      },
      {
        &quot;height&quot;: 600,
        &quot;width&quot;: 450,
        &quot;file_id&quot;: &quot;AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ&quot;,
        &quot;file_size&quot;: 5817,
        &quot;file_unique_id&quot;: &quot;AQADar8xG2-rMVR9&quot;
      }
    ],
    &quot;supergroup_chat_created&quot;: false,
    &quot;chat&quot;: {
      &quot;first_name&quot;: &quot;The Prof.&quot;,
      &quot;id&quot;: 1082762347,
      &quot;type&quot;: &quot;private&quot;,
      &quot;username&quot;: &quot;theprofcrypto&quot;
    },
    &quot;date&quot;: 1728401508,
    &quot;message_id&quot;: 415,
    &quot;from&quot;: {
      &quot;first_name&quot;: &quot;The Prof.&quot;,
      &quot;id&quot;: 1082762347,
      &quot;is_bot&quot;: false,
      &quot;language_code&quot;: &quot;en&quot;,
      &quot;username&quot;: &quot;theprofcrypto&quot;
    }
  },
  &quot;update_id&quot;: 420100647
}</pre>

<pre>context.chat_data = {}</pre>

<pre>context.user_data = {&#x27;edit_field&#x27;: &#x27;media&#x27;, &#x27;user&#x27;: User(username=&#x27;theprofcrypto&#x27;, id=UUID(&#x27;c9d3bc48-95bd-4070-a7f9-4991f2fb0335&#x27;), age=28, gender=&#x27;Male&#x27;, looking_for=&#x27;Women&#x27;, city=&#x27;Bandung&#x27;, name=&#x27;Irf&#x27;, bio=&#x27;Aaa&#x27;, media=[{&#x27;type&#x27;: &#x27;photo&#x27;, &#x27;url&#x27;: &#x27;https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg&#x27;}], language=&#x27;english&#x27;, last_profile_check=&#x27;2024-09-08T12:47:43.76639+00:00&#x27;, profile_completed=True, created_at=&#x27;2024-10-08T12:47:43.766408+00:00&#x27;, updated_at=&#x27;2024-10-08T12:47:43.766412+00:00&#x27;, interests=None, photos=[&#x27;AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ&#x27;], videos=[])}</pre>

<pre>Traceback (most recent call last):
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/ext/_application.py&quot;, line 1335, in process_update
    await coroutine
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/ext/_handlers/basehandler.py&quot;, line 158, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py&quot;, line 346, in handle_profile_creation
    await handle_media_upload(update, context, user)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: handle_media_upload() takes 2 positional arguments but 3 were given
</pre>
2024-10-08 at 22:35:00 | INFO | Stopping the bot...
2024-10-08 at 22:35:00 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 22:35:00 | INFO | Bot stopped successfully.
2024-10-08 at 22:35:00 | INFO | Bot stopped by user.
2024-10-08 at 22:36:23 | INFO | Configuration loaded:
2024-10-08 at 22:36:23 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:36:23 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:36:23 | INFO | USERS_TABLE: users
2024-10-08 at 22:36:23 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:36:23 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:36:23 | INFO | Database connection verified successfully
2024-10-08 at 22:36:23 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:36:23 | INFO | Starting database migrations...
2024-10-08 at 22:36:23 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:36:23 | INFO | Migration 0001 already applied
2024-10-08 at 22:36:23 | INFO | Migration 0002 already applied
2024-10-08 at 22:36:23 | INFO | Migration 0003 already applied
2024-10-08 at 22:36:23 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:36:23 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:36:23 | INFO | Media column check response: []
2024-10-08 at 22:36:23 | ERROR | Media column not found in users table
2024-10-08 at 22:36:23 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:36:23 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:36:23 | INFO | Checking all schemas...
2024-10-08 at 22:36:23 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:36:23 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:36:24 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:36:24 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:36:24 | INFO | Media column check response: []
2024-10-08 at 22:36:24 | ERROR | Media column not found in users table
2024-10-08 at 22:36:24 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:36:24 | INFO | Schema check completed
2024-10-08 at 22:36:24 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:36:24 | INFO | Database setup completed
2024-10-08 at 22:36:24 | INFO | Database connection verified successfully
2024-10-08 at 22:36:24 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:36:24 | INFO | Starting database migrations...
2024-10-08 at 22:36:24 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:36:24 | INFO | Migration 0001 already applied
2024-10-08 at 22:36:24 | INFO | Migration 0002 already applied
2024-10-08 at 22:36:24 | INFO | Migration 0003 already applied
2024-10-08 at 22:36:24 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:36:24 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:36:25 | INFO | Media column check response: []
2024-10-08 at 22:36:25 | ERROR | Media column not found in users table
2024-10-08 at 22:36:25 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:36:25 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:36:25 | INFO | Checking all schemas...
2024-10-08 at 22:36:25 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:36:25 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:36:25 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:36:25 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:36:25 | INFO | Media column check response: []
2024-10-08 at 22:36:25 | ERROR | Media column not found in users table
2024-10-08 at 22:36:25 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:36:25 | INFO | Schema check completed
2024-10-08 at 22:36:25 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:36:25 | INFO | Database setup completed
2024-10-08 at 22:36:25 | INFO | Database setup completed successfully
2024-10-08 at 22:36:25 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 22:36:27 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 22:36:29 | INFO | Stopping the bot...
2024-10-08 at 22:36:29 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 22:36:29 | INFO | Bot stopped successfully.
2024-10-08 at 22:36:29 | INFO | Bot stopped by user.
2024-10-08 at 22:36:39 | INFO | Configuration loaded:
2024-10-08 at 22:36:39 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:36:39 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:36:39 | INFO | USERS_TABLE: users
2024-10-08 at 22:36:39 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:36:39 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:36:39 | INFO | Database connection verified successfully
2024-10-08 at 22:36:39 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:36:39 | INFO | Starting database migrations...
2024-10-08 at 22:36:40 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:36:40 | INFO | Migration 0001 already applied
2024-10-08 at 22:36:40 | INFO | Migration 0002 already applied
2024-10-08 at 22:36:40 | INFO | Migration 0003 already applied
2024-10-08 at 22:36:40 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:36:40 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:36:40 | INFO | Media column check response: []
2024-10-08 at 22:36:40 | ERROR | Media column not found in users table
2024-10-08 at 22:36:40 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:36:40 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:36:40 | INFO | Checking all schemas...
2024-10-08 at 22:36:40 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:36:40 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:36:40 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:36:40 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:36:40 | INFO | Media column check response: []
2024-10-08 at 22:36:40 | ERROR | Media column not found in users table
2024-10-08 at 22:36:40 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:36:40 | INFO | Schema check completed
2024-10-08 at 22:36:41 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:36:41 | INFO | Database setup completed
2024-10-08 at 22:36:41 | INFO | Database connection verified successfully
2024-10-08 at 22:36:41 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:36:41 | INFO | Starting database migrations...
2024-10-08 at 22:36:41 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:36:41 | INFO | Migration 0001 already applied
2024-10-08 at 22:36:41 | INFO | Migration 0002 already applied
2024-10-08 at 22:36:41 | INFO | Migration 0003 already applied
2024-10-08 at 22:36:41 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:36:41 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:36:41 | INFO | Media column check response: []
2024-10-08 at 22:36:41 | ERROR | Media column not found in users table
2024-10-08 at 22:36:41 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:36:41 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:36:41 | INFO | Checking all schemas...
2024-10-08 at 22:36:41 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:36:41 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:36:41 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:36:41 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:36:42 | INFO | Media column check response: []
2024-10-08 at 22:36:42 | ERROR | Media column not found in users table
2024-10-08 at 22:36:42 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:36:42 | INFO | Schema check completed
2024-10-08 at 22:36:42 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:36:42 | INFO | Database setup completed
2024-10-08 at 22:36:42 | INFO | Database setup completed successfully
2024-10-08 at 22:36:42 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 22:36:44 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 22:36:50 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 22:36:50 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:36:50 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:36:50 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:36:50 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:36:50 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 22:36:51 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:36:52 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:36:54 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:36:55 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:36:55 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:36:58 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:36:58 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:36:58 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:04 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:37:04 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:37:04 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:05 | INFO | User theprofcrypto updated successfully
2024-10-08 at 22:37:06 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:37:07 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:37:09 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:37:09 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:37:09 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:13 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:37:13 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:37:13 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:17 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:37:17 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:37:17 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:17 | INFO | User theprofcrypto updated successfully
2024-10-08 at 22:37:18 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:37:18 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:37:18 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:22 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:37:22 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:37:22 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:26 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:37:26 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:37:26 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:27 | INFO | User theprofcrypto updated successfully
2024-10-08 at 22:37:27 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:37:28 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:37:28 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:31 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:37:31 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:37:31 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:35 | INFO | User theprofcrypto updated successfully
2024-10-08 at 22:37:36 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:37:37 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:37:38 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:37:39 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:37:39 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:42 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:37:42 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:37:42 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:47 | INFO | User theprofcrypto updated successfully
2024-10-08 at 22:37:48 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:37:48 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:37:50 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:37:50 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:37:50 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:55 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:37:55 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:37:55 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:37:55 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:37:56 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:39:02 | INFO | Stopping the bot...
2024-10-08 at 22:39:02 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 22:39:02 | INFO | Bot stopped successfully.
2024-10-08 at 22:39:02 | INFO | Bot stopped by user.
2024-10-08 at 22:53:34 | INFO | Configuration loaded:
2024-10-08 at 22:53:34 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:53:34 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:53:34 | INFO | USERS_TABLE: users
2024-10-08 at 22:53:34 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:53:34 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:53:34 | INFO | Database connection verified successfully
2024-10-08 at 22:53:34 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:53:34 | INFO | Starting database migrations...
2024-10-08 at 22:53:34 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:53:34 | INFO | Migration 0001 already applied
2024-10-08 at 22:53:34 | INFO | Migration 0002 already applied
2024-10-08 at 22:53:34 | INFO | Migration 0003 already applied
2024-10-08 at 22:53:34 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:53:35 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:53:35 | INFO | Media column check response: []
2024-10-08 at 22:53:35 | ERROR | Media column not found in users table
2024-10-08 at 22:53:35 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:53:35 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:53:35 | INFO | Checking all schemas...
2024-10-08 at 22:53:35 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:53:35 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:53:35 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:53:35 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:53:35 | INFO | Media column check response: []
2024-10-08 at 22:53:35 | ERROR | Media column not found in users table
2024-10-08 at 22:53:35 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:53:35 | INFO | Schema check completed
2024-10-08 at 22:53:35 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:53:35 | INFO | Database setup completed
2024-10-08 at 22:53:35 | INFO | Database connection verified successfully
2024-10-08 at 22:53:35 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:53:35 | INFO | Starting database migrations...
2024-10-08 at 22:53:36 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:53:36 | INFO | Migration 0001 already applied
2024-10-08 at 22:53:36 | INFO | Migration 0002 already applied
2024-10-08 at 22:53:36 | INFO | Migration 0003 already applied
2024-10-08 at 22:53:36 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:53:36 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:53:36 | INFO | Media column check response: []
2024-10-08 at 22:53:36 | ERROR | Media column not found in users table
2024-10-08 at 22:53:36 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:53:36 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:53:36 | INFO | Checking all schemas...
2024-10-08 at 22:53:36 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:53:36 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:53:36 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:53:36 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:53:36 | INFO | Media column check response: []
2024-10-08 at 22:53:36 | ERROR | Media column not found in users table
2024-10-08 at 22:53:36 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:53:36 | INFO | Schema check completed
2024-10-08 at 22:53:36 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:53:36 | INFO | Database setup completed
2024-10-08 at 22:53:36 | INFO | Database setup completed successfully
2024-10-08 at 22:53:36 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 22:53:39 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 22:53:48 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 22:53:48 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:53:48 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:53:48 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:53:48 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:53:48 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 22:53:48 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:53:50 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:53:52 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:53:52 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:53:52 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:53:56 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:53:56 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:53:56 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:53:57 | ERROR | Exception while handling an update:
2024-10-08 at 22:53:57 | ERROR | An exception was raised while handling an update
<pre>update = {
  &quot;callback_query&quot;: {
    &quot;chat_instance&quot;: &quot;-7390949062690548471&quot;,
    &quot;data&quot;: &quot;edit_age&quot;,
    &quot;id&quot;: &quot;4650428873080128975&quot;,
    &quot;message&quot;: {
      &quot;channel_chat_created&quot;: false,
      &quot;delete_chat_photo&quot;: false,
      &quot;edit_date&quot;: 1728402833,
      &quot;group_chat_created&quot;: false,
      &quot;reply_markup&quot;: {
        &quot;inline_keyboard&quot;: [
          [
            {
              &quot;callback_data&quot;: &quot;edit_age&quot;,
              &quot;text&quot;: &quot;Age: 28&quot;
            }
          ],
          [
            {
              &quot;callback_data&quot;: &quot;edit_gender&quot;,
              &quot;text&quot;: &quot;Gender: Male&quot;
            }
          ],
          [
            {
              &quot;callback_data&quot;: &quot;edit_looking_for&quot;,
              &quot;text&quot;: &quot;Looking for: Women&quot;
            }
          ],
          [
            {
              &quot;callback_data&quot;: &quot;edit_location&quot;,
              &quot;text&quot;: &quot;City: Bandung&quot;
            }
          ],
          [
            {
              &quot;callback_data&quot;: &quot;edit_bio&quot;,
              &quot;text&quot;: &quot;Edit Bio&quot;
            }
          ],
          [
            {
              &quot;callback_data&quot;: &quot;edit_media&quot;,
              &quot;text&quot;: &quot;Update Photos/Video&quot;
            }
          ],
          [
            {
              &quot;callback_data&quot;: &quot;edit_done&quot;,
              &quot;text&quot;: &quot;Done&quot;
            }
          ]
        ]
      },
      &quot;supergroup_chat_created&quot;: false,
      &quot;text&quot;: &quot;What would you like to edit?&quot;,
      &quot;chat&quot;: {
        &quot;first_name&quot;: &quot;The Prof.&quot;,
        &quot;id&quot;: 1082762347,
        &quot;type&quot;: &quot;private&quot;,
        &quot;username&quot;: &quot;theprofcrypto&quot;
      },
      &quot;date&quot;: 1728402830,
      &quot;message_id&quot;: 430,
      &quot;from&quot;: {
        &quot;first_name&quot;: &quot;Nova Match&quot;,
        &quot;id&quot;: 7534529322,
        &quot;is_bot&quot;: true,
        &quot;username&quot;: &quot;NovaMatch_Bot&quot;
      }
    },
    &quot;from&quot;: {
      &quot;first_name&quot;: &quot;The Prof.&quot;,
      &quot;id&quot;: 1082762347,
      &quot;is_bot&quot;: false,
      &quot;language_code&quot;: &quot;en&quot;,
      &quot;username&quot;: &quot;theprofcrypto&quot;
    }
  },
  &quot;update_id&quot;: 420100666
}</pre>

<pre>context.chat_data = {}</pre>

<pre>context.user_data = {}</pre>

<pre>Traceback (most recent call last):
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/ext/_application.py&quot;, line 1335, in process_update
    await coroutine
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/ext/_handlers/basehandler.py&quot;, line 158, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py&quot;, line 258, in handle_button
    await handle_edit_profile(update, context)
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py&quot;, line 729, in handle_edit_profile
    context.job_queue.remove_job(f&#x27;cancel_edit_{update.effective_user.id}&#x27;)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: &#x27;JobQueue&#x27; object has no attribute &#x27;remove_job&#x27;
</pre>
2024-10-08 at 22:54:24 | INFO | Stopping the bot...
2024-10-08 at 22:54:24 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 22:54:24 | INFO | Bot stopped successfully.
2024-10-08 at 22:54:24 | INFO | Bot stopped by user.
2024-10-08 at 22:55:52 | INFO | Configuration loaded:
2024-10-08 at 22:55:52 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:55:52 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:55:52 | INFO | USERS_TABLE: users
2024-10-08 at 22:55:52 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:55:52 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:55:52 | INFO | Database connection verified successfully
2024-10-08 at 22:55:52 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:55:52 | INFO | Starting database migrations...
2024-10-08 at 22:55:53 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:55:53 | INFO | Migration 0001 already applied
2024-10-08 at 22:55:53 | INFO | Migration 0002 already applied
2024-10-08 at 22:55:53 | INFO | Migration 0003 already applied
2024-10-08 at 22:55:53 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:55:53 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:55:53 | INFO | Media column check response: []
2024-10-08 at 22:55:53 | ERROR | Media column not found in users table
2024-10-08 at 22:55:53 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:55:53 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:55:53 | INFO | Checking all schemas...
2024-10-08 at 22:55:53 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:55:53 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:55:53 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:55:53 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:55:53 | INFO | Media column check response: []
2024-10-08 at 22:55:53 | ERROR | Media column not found in users table
2024-10-08 at 22:55:53 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:55:53 | INFO | Schema check completed
2024-10-08 at 22:55:53 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:55:53 | INFO | Database setup completed
2024-10-08 at 22:55:53 | INFO | Database connection verified successfully
2024-10-08 at 22:55:53 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:55:53 | INFO | Starting database migrations...
2024-10-08 at 22:55:54 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:55:54 | INFO | Migration 0001 already applied
2024-10-08 at 22:55:54 | INFO | Migration 0002 already applied
2024-10-08 at 22:55:54 | INFO | Migration 0003 already applied
2024-10-08 at 22:55:54 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:55:54 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:55:54 | INFO | Media column check response: []
2024-10-08 at 22:55:54 | ERROR | Media column not found in users table
2024-10-08 at 22:55:54 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:55:54 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:55:54 | INFO | Checking all schemas...
2024-10-08 at 22:55:54 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:55:54 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:55:54 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:55:54 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:55:55 | INFO | Media column check response: []
2024-10-08 at 22:55:55 | ERROR | Media column not found in users table
2024-10-08 at 22:55:55 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:55:55 | INFO | Schema check completed
2024-10-08 at 22:55:55 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:55:55 | INFO | Database setup completed
2024-10-08 at 22:55:55 | INFO | Database setup completed successfully
2024-10-08 at 22:55:55 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 22:55:57 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 22:56:06 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 22:56:06 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:56:06 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:56:06 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:56:06 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:56:06 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 22:56:07 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:56:08 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:56:11 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:56:11 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:56:11 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:56:11 | ERROR | Exception while handling an update:
2024-10-08 at 22:56:12 | ERROR | An exception was raised while handling an update
<pre>update = {
  &quot;callback_query&quot;: {
    &quot;chat_instance&quot;: &quot;-7390949062690548471&quot;,
    &quot;data&quot;: &quot;update_profile&quot;,
    &quot;id&quot;: &quot;4650428873766386774&quot;,
    &quot;message&quot;: {
      &quot;channel_chat_created&quot;: false,
      &quot;delete_chat_photo&quot;: false,
      &quot;group_chat_created&quot;: false,
      &quot;reply_markup&quot;: {
        &quot;inline_keyboard&quot;: [
          [
            {
              &quot;callback_data&quot;: &quot;start_matching&quot;,
              &quot;text&quot;: &quot;Start Matching &quot;
            }
          ],
          [
            {
              &quot;callback_data&quot;: &quot;update_profile&quot;,
              &quot;text&quot;: &quot;Update Profile &quot;
            }
          ],
          [
            {
              &quot;callback_data&quot;: &quot;view_profile&quot;,
              &quot;text&quot;: &quot;View Profile &quot;
            }
          ]
        ]
      },
      &quot;supergroup_chat_created&quot;: false,
      &quot;text&quot;: &quot;Welcome back, Irf! \n\nAge: 28\nGender: Male\nLooking for: Women\nCity: Bandung\n\nBio: Aaa\n\nWhat would you like to do?&quot;,
      &quot;chat&quot;: {
        &quot;first_name&quot;: &quot;The Prof.&quot;,
        &quot;id&quot;: 1082762347,
        &quot;type&quot;: &quot;private&quot;,
        &quot;username&quot;: &quot;theprofcrypto&quot;
      },
      &quot;date&quot;: 1728402968,
      &quot;message_id&quot;: 433,
      &quot;from&quot;: {
        &quot;first_name&quot;: &quot;Nova Match&quot;,
        &quot;id&quot;: 7534529322,
        &quot;is_bot&quot;: true,
        &quot;username&quot;: &quot;NovaMatch_Bot&quot;
      }
    },
    &quot;from&quot;: {
      &quot;first_name&quot;: &quot;The Prof.&quot;,
      &quot;id&quot;: 1082762347,
      &quot;is_bot&quot;: false,
      &quot;language_code&quot;: &quot;en&quot;,
      &quot;username&quot;: &quot;theprofcrypto&quot;
    }
  },
  &quot;update_id&quot;: 420100668
}</pre>

<pre>context.chat_data = {}</pre>

<pre>context.user_data = {}</pre>

<pre>Traceback (most recent call last):
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/ext/_application.py&quot;, line 1335, in process_update
    await coroutine
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/venv/lib/python3.12/site-packages/telegram/ext/_handlers/basehandler.py&quot;, line 158, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py&quot;, line 253, in handle_button
    await edit_profile(update, context)
  File &quot;/Users/irfandi/Coding/2024_Project/match-bot/src/bot.py&quot;, line 660, in edit_profile
    context.job_queue.remove_if_exists(f&#x27;cancel_edit_{update.effective_user.id}&#x27;)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: &#x27;JobQueue&#x27; object has no attribute &#x27;remove_if_exists&#x27;
</pre>
2024-10-08 at 22:56:14 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:56:14 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:56:14 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:56:15 | ERROR | Error in handle_edit_profile: 'JobQueue' object has no attribute 'remove_if_exists'
2024-10-08 at 22:56:37 | INFO | Stopping the bot...
2024-10-08 at 22:56:37 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 22:56:37 | INFO | Bot stopped successfully.
2024-10-08 at 22:56:37 | INFO | Bot stopped by user.
2024-10-08 at 22:59:03 | INFO | Configuration loaded:
2024-10-08 at 22:59:03 | INFO | LOG_LEVEL: INFO
2024-10-08 at 22:59:03 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 22:59:03 | INFO | USERS_TABLE: users
2024-10-08 at 22:59:03 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 22:59:03 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 22:59:04 | INFO | Database connection verified successfully
2024-10-08 at 22:59:04 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:59:04 | INFO | Starting database migrations...
2024-10-08 at 22:59:04 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:59:04 | INFO | Migration 0001 already applied
2024-10-08 at 22:59:04 | INFO | Migration 0002 already applied
2024-10-08 at 22:59:04 | INFO | Migration 0003 already applied
2024-10-08 at 22:59:04 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:59:04 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:59:04 | INFO | Media column check response: []
2024-10-08 at 22:59:04 | ERROR | Media column not found in users table
2024-10-08 at 22:59:04 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:59:04 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:59:04 | INFO | Checking all schemas...
2024-10-08 at 22:59:04 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:59:04 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:59:04 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:59:04 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:59:05 | INFO | Media column check response: []
2024-10-08 at 22:59:05 | ERROR | Media column not found in users table
2024-10-08 at 22:59:05 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:59:05 | INFO | Schema check completed
2024-10-08 at 22:59:05 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:59:05 | INFO | Database setup completed
2024-10-08 at 22:59:05 | INFO | Database connection verified successfully
2024-10-08 at 22:59:05 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 22:59:05 | INFO | Starting database migrations...
2024-10-08 at 22:59:05 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:59:05 | INFO | Migration 0001 already applied
2024-10-08 at 22:59:05 | INFO | Migration 0002 already applied
2024-10-08 at 22:59:05 | INFO | Migration 0003 already applied
2024-10-08 at 22:59:05 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 22:59:05 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:59:05 | INFO | Media column check response: []
2024-10-08 at 22:59:05 | ERROR | Media column not found in users table
2024-10-08 at 22:59:05 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:59:05 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 22:59:05 | INFO | Checking all schemas...
2024-10-08 at 22:59:05 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 22:59:05 | ERROR | Schema check failed for migration 0001
2024-10-08 at 22:59:05 | ERROR | Schema check failed for migration 0002
2024-10-08 at 22:59:06 | INFO | Schema check passed for migration 0003
2024-10-08 at 22:59:06 | INFO | Media column check response: []
2024-10-08 at 22:59:06 | ERROR | Media column not found in users table
2024-10-08 at 22:59:06 | ERROR | Schema check failed for migration 0004
2024-10-08 at 22:59:06 | INFO | Schema check completed
2024-10-08 at 22:59:06 | INFO | Ensured media column exists in users table.
2024-10-08 at 22:59:06 | INFO | Database setup completed
2024-10-08 at 22:59:06 | INFO | Database setup completed successfully
2024-10-08 at 22:59:06 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 22:59:08 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 22:59:15 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 22:59:15 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:59:16 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:59:16 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:59:16 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:59:16 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 22:59:16 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 22:59:17 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 22:59:19 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:59:19 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:59:19 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 22:59:23 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 22:59:23 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 22:59:23 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 23:00:05 | INFO | Stopping the bot...
2024-10-08 at 23:00:05 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 23:00:05 | INFO | Bot stopped successfully.
2024-10-08 at 23:00:05 | INFO | Bot stopped by user.
2024-10-08 at 23:00:59 | INFO | Configuration loaded:
2024-10-08 at 23:00:59 | INFO | LOG_LEVEL: INFO
2024-10-08 at 23:00:59 | INFO | MAX_REQUESTS_PER_MINUTE: 60
2024-10-08 at 23:00:59 | INFO | USERS_TABLE: users
2024-10-08 at 23:00:59 | INFO | SUPABASE_URL: https://ystmtmuwsoanjclgpcge.supabase.co
2024-10-08 at 23:00:59 | INFO | TELEGRAM_BOT_TOKEN: 75345293...2of0
2024-10-08 at 23:00:59 | INFO | Database connection verified successfully
2024-10-08 at 23:00:59 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 23:00:59 | INFO | Starting database migrations...
2024-10-08 at 23:01:00 | INFO | Ensured media column exists in users table.
2024-10-08 at 23:01:00 | INFO | Migration 0001 already applied
2024-10-08 at 23:01:00 | INFO | Migration 0002 already applied
2024-10-08 at 23:01:00 | INFO | Migration 0003 already applied
2024-10-08 at 23:01:00 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 23:01:00 | INFO | Ensured media column exists in users table.
2024-10-08 at 23:01:00 | INFO | Media column check response: []
2024-10-08 at 23:01:00 | ERROR | Media column not found in users table
2024-10-08 at 23:01:00 | ERROR | Schema check failed for migration 0004
2024-10-08 at 23:01:00 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 23:01:00 | INFO | Checking all schemas...
2024-10-08 at 23:01:00 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 23:01:00 | ERROR | Schema check failed for migration 0001
2024-10-08 at 23:01:00 | ERROR | Schema check failed for migration 0002
2024-10-08 at 23:01:00 | INFO | Schema check passed for migration 0003
2024-10-08 at 23:01:00 | INFO | Media column check response: []
2024-10-08 at 23:01:00 | ERROR | Media column not found in users table
2024-10-08 at 23:01:00 | ERROR | Schema check failed for migration 0004
2024-10-08 at 23:01:00 | INFO | Schema check completed
2024-10-08 at 23:01:00 | INFO | Ensured media column exists in users table.
2024-10-08 at 23:01:00 | INFO | Database setup completed
2024-10-08 at 23:01:01 | INFO | Database connection verified successfully
2024-10-08 at 23:01:01 | INFO | Media cache directory already exists: /Users/irfandi/Coding/2024_Project/match-bot/media_cache
2024-10-08 at 23:01:01 | INFO | Starting database migrations...
2024-10-08 at 23:01:01 | INFO | Ensured media column exists in users table.
2024-10-08 at 23:01:01 | INFO | Migration 0001 already applied
2024-10-08 at 23:01:01 | INFO | Migration 0002 already applied
2024-10-08 at 23:01:01 | INFO | Migration 0003 already applied
2024-10-08 at 23:01:01 | INFO | Applying migration 0004: Ensure media column exists in users table
2024-10-08 at 23:01:01 | INFO | Ensured media column exists in users table.
2024-10-08 at 23:01:01 | INFO | Media column check response: []
2024-10-08 at 23:01:01 | ERROR | Media column not found in users table
2024-10-08 at 23:01:01 | ERROR | Schema check failed for migration 0004
2024-10-08 at 23:01:01 | WARNING | Migration process encountered issues. Attempting to continue with existing schema.
2024-10-08 at 23:01:01 | INFO | Checking all schemas...
2024-10-08 at 23:01:01 | ERROR | Required column id with type uuid not found or has incorrect type
2024-10-08 at 23:01:01 | ERROR | Schema check failed for migration 0001
2024-10-08 at 23:01:01 | ERROR | Schema check failed for migration 0002
2024-10-08 at 23:01:02 | INFO | Schema check passed for migration 0003
2024-10-08 at 23:01:02 | INFO | Media column check response: []
2024-10-08 at 23:01:02 | ERROR | Media column not found in users table
2024-10-08 at 23:01:02 | ERROR | Schema check failed for migration 0004
2024-10-08 at 23:01:02 | INFO | Schema check completed
2024-10-08 at 23:01:02 | INFO | Ensured media column exists in users table.
2024-10-08 at 23:01:02 | INFO | Database setup completed
2024-10-08 at 23:01:02 | INFO | Database setup completed successfully
2024-10-08 at 23:01:02 | INFO | Initializing bot with token: 75345293...
2024-10-08 at 23:01:03 | INFO | Bot is running. Press Ctrl-C to stop.
2024-10-08 at 23:01:10 | INFO | Start command initiated by user: theprofcrypto
2024-10-08 at 23:01:10 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 23:01:10 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 23:01:10 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 23:01:10 | INFO | User data retrieved or created: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 23:01:10 | INFO | Profile completeness check for theprofcrypto: True
2024-10-08 at 23:01:11 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 23:01:12 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 23:01:13 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 23:01:14 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 23:01:14 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 23:01:18 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 23:01:18 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 23:01:18 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 23:01:21 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 23:01:21 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 23:01:21 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 23:01:26 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 23:01:27 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 23:01:27 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 23:01:27 | INFO | User theprofcrypto updated successfully
2024-10-08 at 23:01:28 | ERROR | Failed to fetch media: https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg
2024-10-08 at 23:01:29 | INFO | User theprofcrypto media: [{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}]
2024-10-08 at 23:01:37 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 23:01:37 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 23:01:37 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 23:01:43 | INFO | Attempting to retrieve or create user data for username: theprofcrypto
2024-10-08 at 23:01:43 | INFO | Database response: data=[{'id': 'c9d3bc48-95bd-4070-a7f9-4991f2fb0335', 'username': 'theprofcrypto', 'age': 28, 'gender': 'Male', 'looking_for': 'Women', 'city': 'Bandung', 'name': 'Irf', 'bio': 'Aaa', 'photos': ['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], 'language': 'english', 'last_profile_check': '2024-09-08T12:47:43.76639+00:00', 'profile_completed': True, 'created_at': '2024-10-08T12:47:43.766408+00:00', 'updated_at': '2024-10-08T12:47:43.766412+00:00', 'interests': None, 'videos': [], 'media': '[{"type": "photo", "url": "https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg"}]'}] count=None
2024-10-08 at 23:01:43 | INFO | Existing user retrieved: User(username='theprofcrypto', id=UUID('c9d3bc48-95bd-4070-a7f9-4991f2fb0335'), age=28, gender='Male', looking_for='Women', city='Bandung', name='Irf', bio='Aaa', media=[{'type': 'photo', 'url': 'https://ystmtmuwsoanjclgpcge.supabase.co/storage/v1/object/public/user-media/user_theprofcrypto_media_0_1728397753.jpg'}], language='english', last_profile_check='2024-09-08T12:47:43.76639+00:00', profile_completed=True, created_at='2024-10-08T12:47:43.766408+00:00', updated_at='2024-10-08T12:47:43.766412+00:00', interests=None, photos=['AgACAgUAAxkBAAIBD2cFK6uUUxnHMRCa_SC-qBCCf7RPAAJqvzEbb6sxVASqG_dHtqAKAQADAgADeAADNgQ'], videos=[])
2024-10-08 at 23:02:24 | INFO | Stopping the bot...
2024-10-08 at 23:02:24 | ERROR | Error stopping the bot: This Updater is still running!
2024-10-08 at 23:02:24 | INFO | Bot stopped successfully.
2024-10-08 at 23:02:24 | INFO | Bot stopped by user.
